{"version":3,"sources":["utils/react-select-utils.js","utils/ResizeObserverWrapper.js","utils/useWindowSize.js","utils/useAsyncResources.js","utils/table-utils.js","getDBs.js","formatting/FormattedSupSub.js","component_groups/components/ComponentListHeader.js","utils/useComlinkWorker.js","CalculateResultWorker.js","utils/useModalStack.js","FreeQL.js","App.js","serviceWorker.js","index.js","utils/useResizeObserver.js","utils/CenteringDiv.js","utils/ref-utils.js"],"names":["createFormatOptionLabel","ReactComponent","label","ResizeObserverWrapper","React","forwardRef","props","ref","className","children","useWindowSize","useState","width","undefined","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","wrapPromise","promise","result","status","suspender","then","r","e","useAsyncResourceWithBoolean","getter","initialParams","current","dataCallbackRef","setDataCallbackRef","transitionState","setTransitionState","getNewData","useCallback","params","getData","useMemo","Promise","textToTable","text","resolve","CSVParse","relax_column_count","err","item","options","property","row","column","getDataWithStride","i","stride","getComponentDB","url","type","callback","console","log","fetch","response","chunk","linesPerItem","chunks","hPlusValue","waterValue","components","Immutable","filter","Number","map","name","charge","db","res","_","getSpeciesDB","all","labels","urls","responses","tables","mainTable","labelList","labelTable","chunkedLabelTable","labelMap","withMutations","entries","index","specie","set","chunkedMainTable","aqs","species","componentToSpecies","solids","gases","aqSpecies","solidSpecies","gasSpecies","id","get","logK","component","componentAmt","aqComponentToSpecies","speciesId","componentId","update","oldSet","add","solidComponentToSpecies","gasComponentToSpecies","FormattedSupSub","memo","Array","from","matchAll","value","Fragment","key","substring","centerSelectStyles","singleValue","styles","textAlign","option","ComponentListHeader","hPlusOptionsRef","defaultVal","onChange","Row","Col","xs","sm","isSearchable","formatOptionLabel","OverlayTrigger","placement","overlay","Tooltip","xmlns","version","viewBox","overflow","enableBackground","fill","stroke","strokeWidth","x1","y1","x2","y2","d","useComlinkWorker","WorkerClass","parameters","comlinkWrapper","setComlinkWrapper","worker","Comlink","terminate","Worker","useModalStack","modalsStack","setModalsStack","currentModal","peek","closeModal","modalName","isArray","stack","pop","openModal","push","Results","lazy","HPlusComponent","ComponentList","ComponentSelectModal","ComponentSelect","SpeciesList","TableauTable","ScrollContainer","style","headerHeight","footerHeight","Container","fluid","SpinnerComponentRow","Spinner","animation","role","CalculateButton","calculateNewResult","disableMessage","onClick","restProps","disabled","button","Button","speciesCouldBePresentOfType","speciesDB","componentsPresent","ourSpeciesCouldBePresent","ourSpeciesOccurences","has","specieId","num","speciesOccurences","specieData","size","defaultRowInputValue","equilChecked","conc","FreeQL","useRef","unstable_useOpaqueIdentifier","ConcentrationCalculatorWorker","ConcentrationCalculator","totalHOption","pHOption","hPlusOption","setHPlusOption","useReducer","oldState","action","componentToAdd","removeAll","updateIn","val","setIn","Error","componentsInputState","componentsInputStateReducer","updateConc","toggleChecked","setComponentsPresent","addComponents","union","removeComponents","subtract","speciesEnabled","setSpeciesEnabled","logKChanges","setLogKChanges","process","componentsDB","gettingNewComponentsDB","numComponents","componentAmts","linesPerId","speciesDBDefaultParams","$set","keys","gettingNewSpeciesDB","speciesCouldBePresent","memoize","speciesHere","intersect","resultMap","input","delete","inputImmutable","calculate","transit","catch","error","currentResult","calculatingNewResult","calculateButtonMessage","componentData","find","buttonsHeight","setButtonsHeight","outerAdderHeight","buttonsRef","useResizeObserver","createModalOpenCallback","createModalCloseCallback","onHPlusOptionChange","Math","log10","pow","Form","fallback","pH","span","offset","windowHeight","openTableauModal","variant","Modal","show","onHide","backdrop","scrollable","Header","closeButton","Body","Footer","Title","windowWidth","App","setHeaderHeight","headerRef","setFooterHeight","footerRef","Navbar","expand","bg","CenteringDiv","end","Brand","href","src","alt","Collapse","Nav","Link","target","Boolean","location","hostname","match","rootElement","document","getElementById","ReactDOM","unstable_createRoot","render","navigator","serviceWorker","ready","registration","unregister","message","resizeObsRef","ResizeObserver","boundingRect","getBoundingClientRect","useCallbackRef","node","observe","unobserve","start","onUpdate","cleanupOld","onNull","mergeRefs","refs","filteredRefs","length","inst"],"mappings":"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","file":"static/js/main.7788773f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst createFormatOptionLabel = (ReactComponent) => ({label}) => <ReactComponent>{label}</ReactComponent>;\r\n\r\nexport {createFormatOptionLabel}","import React from 'react';\r\n\r\nconst ResizeObserverWrapper=React.forwardRef((props, ref)=> {\r\n  return (\r\n    <div ref={ref} className=\"prevent-margin-collapse\">\r\n      {[props.children]}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ResizeObserverWrapper;","import { useState, useEffect } from \"react\";\r\n\r\n\r\nconst useWindowSize=() => {\r\n  // Initialize state with undefined width/height so server and client renders match\r\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: undefined,\r\n    height: undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Handler to call on window resize\r\n     const handleResize=()=>{\r\n      // Set window width/height to state\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n    \r\n    // Add event listener\r\n    window.addEventListener(\"resize\", handleResize);\r\n    \r\n    // Call handler right away so state gets updated with initial window size\r\n    handleResize();\r\n    \r\n    // Remove event listener on cleanup\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []); // Empty array ensures that effect is only run on mount\r\n\r\n  return windowSize;\r\n}\r\n\r\nexport default useWindowSize;","import { useCallback, unstable_useTransition, useRef, useState, useEffect, useMemo } from \"react\";\r\n\r\nfunction wrapPromise(promise) {\r\n  let status = \"pending\";\r\n  let result;\r\n  let suspender = promise.then(\r\n    r => {\r\n      status = \"success\";\r\n      result = r;\r\n    },\r\n    e => {\r\n      status = \"error\";\r\n      result = e;\r\n    }\r\n  );\r\n  return () => {\r\n    if (status === \"pending\") {\r\n      throw suspender;\r\n    } else if (status === \"error\") {\r\n      throw result;\r\n    } else if (status === \"success\") {\r\n      return result;\r\n    }\r\n  };\r\n}\r\n\r\nconst useAsyncResourceWithBoolean=(getter, initialParams) => {\r\n  const [dataCallbackRef, setDataCallbackRef]=useState({current: null});\r\n  const [transitionState, setTransitionState]=useState(!!initialParams);\r\n\r\n  const getNewData=useCallback((params) => {\r\n    setTransitionState(true);\r\n    setDataCallbackRef({current: wrapPromise(getter(params).then((result) => {setTransitionState(false); return result}))});\r\n  }, [setDataCallbackRef, getter]);\r\n\r\n  const getData=useMemo(() => {\r\n    if(dataCallbackRef.current || !initialParams){\r\n      return dataCallbackRef.current;\r\n    } else {\r\n      return () => {\r\n        throw new Promise(() => {});\r\n      }\r\n    }\r\n  }, [dataCallbackRef]);\r\n\r\n  useEffect(() => {\r\n    if(initialParams){\r\n      getNewData(initialParams);\r\n    }\r\n  }, []);\r\n\r\n  return [getData, getNewData, transitionState];\r\n}\r\n\r\nexport {useAsyncResourceWithBoolean};","import CSVParse from \"csv-parse\"\r\n\r\nconst textToTable=(text) => {\r\n  return new Promise(resolve => CSVParse(text, {  relax_column_count: true }, (err, result) => {resolve(result, err)}));\r\n}\r\n\r\nexport default textToTable;","import textToTable from './utils/table-utils.js';\r\nimport { chunk } from 'chunk';\r\nimport * as Immutable from 'immutable';\r\n\r\nconst getData=(item, options, property) => {\r\n  //console.log(item);    \r\n  return item[options[property].row][options[property].column];\r\n}\r\nconst getDataWithStride=(item, options, property, i) => {\r\n  return item[options[property].row][options[property].column+i*options[property].stride];\r\n}\r\n\r\nconst getComponentDB=({url, options, type, callback}) => {\r\n  console.log({url, options, type, callback});\r\n  if(type===\"link\") {\r\n    return fetch(url)\r\n      .then(response => response.text())\r\n      .then(text => textToTable(text))\r\n      .then(result => chunk(result, options.linesPerItem))\r\n      .then(chunks => \r\n        ({\r\n          hPlusValue: options.hPlusValue, \r\n          waterValue: options.waterValue,\r\n          components: Immutable.OrderedMap(chunks.filter(item => Number(getData(item, options, \"id\"))).map(item => [\r\n            Number(getData(item, options, \"id\")),\r\n            {\r\n              name: getData(item, options, \"name\"), \r\n              charge: Number(getData(item, options, \"charge\")),\r\n            }\r\n          ]))\r\n        })\r\n      ).then(db => {\r\n        if(!callback) {\r\n          return db;\r\n        }\r\n        const res=callback(db);\r\n        if(res instanceof Promise){\r\n          return res.then(_ => db);\r\n        } else {\r\n          return db;\r\n        }\r\n      });\r\n  }\r\n};\r\n\r\nconst componentDBDefaultParams=(callback) => ({\r\n  url: process.env.PUBLIC_URL+\"/assets/defaultdb/comp.vdb\", \r\n  type: \"link\",\r\n  options: {\r\n    linesPerItem: 1,\r\n    id: {row: 0, column: 0},\r\n    name: {row: 0, column: 1},\r\n    charge: {row: 0, column: 2},\r\n    hPlusValue: 330,\r\n    waterValue: 2,\r\n  }, \r\n  callback\r\n});\r\n\r\nconst getSpeciesDB=({url, options, type, callback}) => {\r\n  console.log({url, options, type, callback}); \r\n  if(type===\"link\") {\r\n    return Promise.all([url, ...options.labels.urls].map(url => fetch(url))).then(responses =>{\r\n      return Promise.all(responses.map(res => res.text().then(text=> textToTable(text))))\r\n    }).then(tables => {\r\n      const [mainTable, ...labelTables]=tables;\r\n      const labelList=labelTables.map(labelTable => chunk(labelTable, options.linesPerItem)).map(chunkedLabelTable => chunkedLabelTable.map(labelTable => getData(labelTable, options.labels, \"id\")));\r\n\r\n      const labelMap=Immutable.Map().withMutations((labelMap) => {\r\n        for(const [index, labelTable] of labelList.entries()) {\r\n          for(const specie of labelTable){\r\n            labelMap.set(Number(specie), options.labels.labelMap[index]);\r\n          }\r\n        };\r\n      });\r\n      \r\n      \r\n      const chunkedMainTable=chunk(mainTable, options.linesPerItem).filter(chunk => Number(chunk[0][0]));\r\n      const db={\r\n        aqs: {\r\n          species: Immutable.OrderedMap(),\r\n          componentToSpecies: Immutable.Map(),\r\n        },\r\n        solids: {\r\n          species: Immutable.OrderedMap(),\r\n          componentToSpecies: Immutable.Map(),\r\n        },\r\n        gases: {\r\n          species: Immutable.OrderedMap(),\r\n          componentToSpecies: Immutable.Map(),\r\n        },\r\n      }\r\n      db.aqs.species=db.aqs.species.withMutations(aqSpecies => {\r\n        db.solids.species=db.solids.species.withMutations(solidSpecies => {\r\n          db.gases.species=db.gases.species.withMutations(gasSpecies => {\r\n            const db={aqSpecies, solidSpecies, gasSpecies};\r\n            for(const item of chunkedMainTable){\r\n              const id=Number(getData(item, options, \"id\"));\r\n              const property=(labelMap.get(id) ?? \"aq\")+\"Species\";\r\n              db[property].set(id, \r\n                {\r\n                  name: getData(item, options, \"name\"),\r\n                  charge: Number(getData(item, options, \"charge\")),\r\n                  logK: Number(getData(item, options, \"logK\")),\r\n                  label: labelMap.get(Number(getData(item, options, \"id\"))) ?? 0,\r\n                  components: Immutable.Map().withMutations((components) => {\r\n                    for(let i=0; i<getData(item, options, \"numComponents\"); ++i){\r\n                      const component=Number(getDataWithStride(item, options, \"components\", i));\r\n                      const componentAmt=Number(getDataWithStride(item, options, \"componentAmts\", i));\r\n                      components.set(component, componentAmt);\r\n                    }\r\n                  }),\r\n                }\r\n              )\r\n            }\r\n          });\r\n        });\r\n      });   \r\n      db.aqs.componentToSpecies=db.aqs.componentToSpecies.withMutations(aqComponentToSpecies => {\r\n        for(const [speciesId, {components}] of db.aqs.species) {\r\n          for(const [componentId] of components) {\r\n            aqComponentToSpecies.update(componentId, (oldSet=Immutable.Set()) => oldSet.add(speciesId));\r\n          }\r\n        }\r\n      });\r\n      db.solids.componentToSpecies=db.solids.componentToSpecies.withMutations(solidComponentToSpecies => {\r\n        for(const [speciesId, {components}] of db.solids.species) {\r\n          for(const [componentId] of components) {\r\n            solidComponentToSpecies.update(componentId, (oldSet=Immutable.Set()) => oldSet.add(speciesId));\r\n          }\r\n        }\r\n      });\r\n      db.gases.componentToSpecies=db.gases.componentToSpecies.withMutations(gasComponentToSpecies => {\r\n        for(const [speciesId, {components}] of db.gases.species) {\r\n          for(const [componentId] of components) {\r\n            gasComponentToSpecies.update(componentId, (oldSet=Immutable.Set()) => oldSet.add(speciesId));\r\n          }\r\n        }\r\n      });\r\n      \r\n      return db;\r\n    }).then(db => {\r\n      if(!callback) {\r\n        return db;\r\n      }\r\n      const res=callback(db);\r\n      if(res instanceof Promise){\r\n        return res.then(_ => db);\r\n      } else {\r\n        return db;\r\n      }\r\n    });\r\n    \r\n  }\r\n}\r\n\r\nconst speciesDBDefaultParams=(callback) => ({\r\n  url: process.env.PUBLIC_URL+\"/assets/defaultdb/thermo.vdb\", \r\n  type: \"link\",\r\n  options: {\r\n    linesPerItem: 3,\r\n    id: {row: 0, column: 0},\r\n    name: {row: 0, column: 1},\r\n    charge: {row: 0, column: 6},\r\n    logK: {row: 0, column: 3},\r\n    numComponents: {row: 0, column: 10},\r\n    components: {row: 1, column: 1, stride: 2},\r\n    componentAmts: {row: 1, column: 0, stride: 2},\r\n    labels: {\r\n      urls: [process.env.PUBLIC_URL+\"/assets/defaultdb/type6.vdb\", process.env.PUBLIC_URL+\"/assets/defaultdb/gases.vdb\"],\r\n      linesPerId: 3,\r\n      id: {row: 0, column: 0},\r\n      labelMap: [\"solid\", \"gas\"]\r\n    }\r\n  }, \r\n  callback, \r\n});\r\n\r\nexport {getComponentDB, componentDBDefaultParams, getSpeciesDB, speciesDBDefaultParams}","import React from \"react\";\r\n\r\nconst FormattedSupSub=React.memo((props) => {\r\n  return(\r\n    <>\r\n      {Array.from(props.children.matchAll(/([^_^]+)(?:\\^(.)|_(.))?/g)).map((value) => <React.Fragment key={props.children.substring(0, value.index)}>{value[1]}<sup>{value[2]}</sup><sub>{value[3]}</sub></React.Fragment>)}\r\n    </>\r\n  );\r\n});\r\nexport default FormattedSupSub;","import React from 'react';\r\n\r\nimport Select from 'react-select';\r\n\r\nimport FormattedSupSub from '../../formatting/FormattedSupSub.js';\r\n\r\nimport { createFormatOptionLabel } from '../../utils/react-select-utils.js';\r\n\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nconst centerSelectStyles = {\r\n  singleValue: styles => ({ ...styles, width: '100%', textAlign : \"center\" }),\r\n  option: styles => ({ ...styles, width: '100%', textAlign : \"center\" }),\r\n};\r\n\r\nconst ComponentListHeader=React.memo((props) => {\r\n  const {hPlusOptionsRef, defaultVal, onChange}=props;\r\n  return (\r\n    <Row className=\"mt-4 mb-3\">\r\n      <Col xs=\"3\" sm=\"5\" className=\"center-items\">\r\n        <label className=\"w-100 d-none d-sm-block text-muted text-center\">\r\n          Components\r\n        </label>\r\n        <label className=\"w-100 d-block d-sm-none text-muted text-center\">\r\n          Comp.\r\n        </label>\r\n      </Col>\r\n      <Col xs=\"7\" sm=\"5\">\r\n        <Select isSearchable={false} options={hPlusOptionsRef.current} formatOptionLabel={createFormatOptionLabel(FormattedSupSub)} styles={centerSelectStyles} onChange={onChange} value={defaultVal}/>\r\n      </Col>\r\n      <Col xs=\"2\" className=\"center-items\">\r\n        <OverlayTrigger\r\n          placement=\"bottom\"\r\n          overlay={\r\n            <Tooltip>\r\n              Equilibrium Concentration\r\n            </Tooltip>\r\n          }\r\n        >\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"0.875rem\" version=\"1.1\" id=\"Layer_1\" viewBox=\"0 0 139 119.177\" overflow=\"visible\" enableBackground=\"new 0 0 139 119.177\">\r\n            <line fill=\"none\" stroke=\"#000000\" strokeWidth=\"7\" x1=\"139\" y1=\"63.308\" x2=\"0\" y2=\"63.308\"></line>\r\n            <line fill=\"none\" stroke=\"#000000\" strokeWidth=\"6\" x1=\"30.646\" y1=\"92.308\" x2=\"2.189\" y2=\"65.308\"></line>\r\n            <line fill=\"none\" stroke=\"#000000\" strokeWidth=\"7\" x1=\"3\" y1=\"30.308\" x2=\"133\" y2=\"30.308\"></line>\r\n            <line fill=\"none\" stroke=\"#000000\" strokeWidth=\"6\" x1=\"99.296\" y1=\"2.308\" x2=\"130.953\" y2=\"28.608\"></line>\r\n            <path fill=\"none\" stroke=\"#FFFFFF\" strokeWidth=\"2\" d=\"M53,118.177c2.333,0,4.667,0,7,0\"></path>\r\n          </svg>\r\n        </OverlayTrigger>\r\n      </Col>\r\n    </Row>\r\n  )\r\n});\r\n\r\nexport default ComponentListHeader;","import { useState, useEffect, useRef } from \"react\";\r\nimport * as Comlink from \"comlink\";;\r\n\r\nconst useComlinkWorker=(WorkerClass, parameters) => {\r\n  const [comlinkWrapper, setComlinkWrapper]=useState({current: null});\r\n  useEffect(() => {\r\n    const worker=new WorkerClass(parameters);\r\n    setComlinkWrapper({current: Comlink.wrap(worker)});\r\n    return () => {worker.terminate()}\r\n  }, []);\r\n  return comlinkWrapper.current;\r\n}\r\n\r\nexport default useComlinkWorker;","export default function() {\n  return new Worker(__webpack_public_path__ + \"static/js/CalculateResultWorker.17cd4896.worker.js\");\n}\n","import { useState, useCallback } from \"react\"\r\nimport * as Immutable from \"immutable\";\r\n\r\nconst useModalStack=() => {\r\n  const [modalsStack, setModalsStack]=useState(Immutable.Stack());\r\n  const currentModal=modalsStack.peek();\r\n  const closeModal=useCallback((modalName) => {\r\n    if(Array.isArray(modalName)){\r\n      setModalsStack(modalsStack.withMutations(stack => {\r\n        for(const name of modalName){\r\n          if(stack.peek()===name) {\r\n            stack.pop();\r\n          }\r\n        }\r\n      }));\r\n    } else if(currentModal===modalName) {\r\n      setModalsStack(modalsStack.pop());\r\n    }\r\n  }, [setModalsStack, currentModal, modalsStack]);\r\n  const openModal=useCallback((modalName) => {\r\n    setModalsStack(modalsStack.push(modalName));\r\n  }, [setModalsStack, modalsStack]);\r\n  return [currentModal, openModal, closeModal]\r\n}\r\n\r\nexport default useModalStack;","import React, { useState, useRef, useReducer, useCallback, unstable_useOpaqueIdentifier , Suspense } from 'react';\r\n\r\nimport memoize from 'fast-memoize';\r\n\r\nimport * as Immutable from 'immutable';\r\nimport * as transit from \"transit-immutable-js\";\r\nimport update from \"immutability-helper\"\r\n\r\nimport useResizeObserver from './utils/useResizeObserver.js';\r\nimport useWindowSize from './utils/useWindowSize.js';\r\nimport ResizeObserverWrapper from './utils/ResizeObserverWrapper.js';\r\nimport { useAsyncResourceWithBoolean } from \"./utils/useAsyncResources.js\";\r\n\r\nimport { componentDBDefaultParams, getComponentDB, getSpeciesDB, speciesDBDefaultParams } from './getDBs.js';\r\n\r\nimport ComponentListHeader from \"./component_groups/components/ComponentListHeader.js\"\r\n\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\n\r\n\r\nimport useComlinkWorker from './utils/useComlinkWorker.js';\r\n//eslint-disable-next-line import/no-webpack-loader-syntax\r\nimport ConcentrationCalculator from 'worker-loader!./CalculateResultWorker.js'\r\nimport useModalStack from './utils/useModalStack.js';\r\n\r\nconst Results = React.lazy(() => import('./component_groups/Result.js'));\r\n\r\nconst HPlusComponent = React.lazy(() => import(\"./component_groups/components/HPlusComponent.js\"));\r\nconst ComponentList = React.lazy(() => import(\"./component_groups/components/ComponentList.js\"));\r\n\r\nconst ComponentSelectModal = React.lazy(() => import(\"./component_groups/components/ComponentSelectModal.js\"))\r\nconst ComponentSelect = React.lazy(() => import(\"./component_groups/components/ComponentSelect.js\"))\r\n\r\nconst SpeciesList = React.lazy(() => import('./component_groups/Species.js'));\r\nconst TableauTable = React.lazy(() => import('./component_groups/Tableau.js'));\r\n\r\nconst ScrollContainer=React.memo((props) => {\r\n  return (\r\n    <div style={{\"maxHeight\" : \"calc(100vh - \"+(props.headerHeight+props.footerHeight)+\"px)\", \"overflowY\" : \"auto\", \"width\": \"100%\"}}>\r\n      <div style={{\"overflowX\" : \"hidden\"}}>\r\n        <ResizeObserverWrapper>\r\n          <Container fluid>\r\n            {props.children}\r\n          </Container>\r\n        </ResizeObserverWrapper>\r\n      </div>\r\n    </div>\r\n  )\r\n});\r\n\r\nconst SpinnerComponentRow=React.memo((props) => {\r\n  return (\r\n    <Row className=\"mb-3\" style={{\"height\": \"38px\"}}>\r\n      <Col className=\"center-items\">\r\n        <Spinner animation=\"border\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      </Col>\r\n    </Row>\r\n  );\r\n});\r\n\r\nconst CalculateButton=React.memo((props) => {\r\n  const { calculateNewResult, disableMessage, onClick, ...restProps }=props;\r\n  const disabled=!!disableMessage();\r\n  const button=<Button {...restProps} onClick={(e) => {onClick(e); calculateNewResult();} } disabled={disabled}>Calculate</Button>;\r\n  if(disabled) {\r\n    return (\r\n      <OverlayTrigger\r\n        placement=\"top\"\r\n        overlay={\r\n          <Tooltip>\r\n            {disableMessage()}\r\n          </Tooltip>\r\n        }\r\n      >\r\n        <div className=\"disabled-button-wrapper\">\r\n          {button}\r\n        </div>\r\n      </OverlayTrigger>\r\n    )\r\n  } else {\r\n    return button;\r\n  }\r\n});\r\n\r\nconst speciesOccurences=(componentToSpecies, componentsPresent) => Immutable.Map().withMutations((map) => {\r\n  for(const componentId of componentsPresent) {\r\n    if(componentToSpecies.has(componentId)){\r\n      for(const specieId of componentToSpecies.get(componentId)) {\r\n        map.update(specieId, (num=0)=>num+1);\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nconst speciesCouldBePresentOfType=(speciesDB, componentsPresent) => Immutable.OrderedSet().withMutations(ourSpeciesCouldBePresent => {\r\n  console.log(speciesDB);\r\n  const ourSpeciesOccurences=speciesOccurences(speciesDB.componentToSpecies, componentsPresent);\r\n  for(const [specie, specieData] of speciesDB.species){\r\n    if(ourSpeciesOccurences.get(specie)===specieData.components.size){\r\n      ourSpeciesCouldBePresent.add(specie);\r\n    } \r\n  }\r\n})\r\n\r\nconst defaultRowInputValue=Immutable.Map({equilChecked: false, conc: \"\"});\r\n\r\nconst FreeQL=(props) => {\r\n  const hPlusOptionsRef=useRef([\r\n    { value: unstable_useOpaqueIdentifier(), label: 'totalH' },\r\n    { value: unstable_useOpaqueIdentifier(), label: 'pH' },\r\n    { value: unstable_useOpaqueIdentifier(), label: 'Alkalinity^1' },\r\n    { value: unstable_useOpaqueIdentifier(), label: 'Other Alkalinity' },\r\n  ]);\r\n  const ConcentrationCalculatorWorker=useComlinkWorker(ConcentrationCalculator);\r\n  const [totalHOption, pHOption, alkOption, alkOtherOption]=hPlusOptionsRef.current;\r\n  const [hPlusOption, setHPlusOption]=useState(totalHOption);\r\n\r\n  const [componentsInputState, componentsInputStateReducer]=useReducer(\r\n    (oldState, action) => {\r\n      switch(action.action){\r\n        case \"add\":\r\n          return oldState.withMutations((map) => {\r\n            for(const componentToAdd of action.value.components){\r\n              map.set(componentToAdd, defaultRowInputValue);\r\n            }\r\n          });\r\n        case \"remove\":\r\n          return oldState.removeAll(action.value.components);\r\n        case \"toggleEquilChecked\":\r\n          return oldState.updateIn([action.value.component, \"equilChecked\"], (val) => !val);\r\n        case \"setConc\":\r\n          return oldState.setIn([action.value.component, \"conc\"], action.value.conc);\r\n        default:\r\n          throw new Error();\r\n      }\r\n    }, \r\n    Immutable.Map()\r\n  );\r\n  const updateConc=useCallback((component, conc)=> {\r\n    componentsInputStateReducer({action: \"setConc\", value : {component, conc}});\r\n  }, [componentsInputStateReducer]);\r\n  const toggleChecked=useCallback((component) => {\r\n    componentsInputStateReducer({action: \"toggleEquilChecked\", value: {component}});\r\n  }, [componentsInputStateReducer]);\r\n\r\n  const [componentsPresent, setComponentsPresent]=useState(Immutable.OrderedSet());\r\n  const addComponents=useCallback((components) => {\r\n    componentsInputStateReducer({action: \"add\", value: {components}});\r\n    setComponentsPresent(componentsPresent.union(components));\r\n  }, [componentsPresent, setComponentsPresent, componentsInputStateReducer]);\r\n  const removeComponents=useCallback((components) => {\r\n    componentsInputStateReducer({action: \"remove\", value: {components}});\r\n    setComponentsPresent(componentsPresent.subtract(components));\r\n  }, [componentsPresent, setComponentsPresent, componentsInputStateReducer]);\r\n\r\n  const [speciesEnabled, setSpeciesEnabled]=useState({\r\n    aqs: Immutable.OrderedSet(),\r\n    solids: Immutable.OrderedSet(),\r\n    gases: Immutable.OrderedSet(),\r\n  });\r\n  const [logKChanges, setLogKChanges]=useState({\r\n    aqs: Immutable.Map(),\r\n    solids: Immutable.Map(),\r\n    gases: Immutable.Map(),\r\n  });\r\n\r\n  const [componentsDB, getNewComponentsDB, gettingNewComponentsDB]=useAsyncResourceWithBoolean(getComponentDB, componentDBDefaultParams((db) => {\r\n    console.log(db);\r\n    addComponents([db.waterValue, db.hPlusValue]);\r\n  }));\r\n  const [speciesDB, getNewSpeciesDB, gettingNewSpeciesDB]=useAsyncResourceWithBoolean(getSpeciesDB, speciesDBDefaultParams((db) => {\r\n    console.log(db);\r\n    setSpeciesEnabled(update(speciesEnabled, {aqs : {$set: Immutable.Set(db.aqs.species.keys())}}));\r\n  }));\r\n\r\n  const speciesCouldBePresent=useCallback(memoize(() => ({\r\n    aqs: speciesCouldBePresentOfType(speciesDB().aqs, componentsPresent),\r\n    solids: speciesCouldBePresentOfType(speciesDB().solids, componentsPresent),\r\n    gases: speciesCouldBePresentOfType(speciesDB().gases, componentsPresent),\r\n  })), [speciesDB, componentsPresent]);\r\n\r\n  const speciesHere=useCallback(memoize(() => {\r\n    return {\r\n      aqs: Immutable.List(speciesCouldBePresent().aqs.intersect(speciesEnabled.aqs)),\r\n      solids: Immutable.List(speciesCouldBePresent().solids.intersect(speciesEnabled.solids)),\r\n      gases: Immutable.List(speciesCouldBePresent().gases.intersect(speciesEnabled.gases)),\r\n    }\r\n  }), [speciesCouldBePresent, speciesEnabled]);\r\n\r\n  const [resultMap, setResultMap]=useState(Immutable.Map());\r\n  const [currentResult, calculateNewResult, calculatingNewResult]=useAsyncResourceWithBoolean(() => {\r\n    const input={speciesHere: speciesHere(), componentsPresent: Immutable.List(componentsPresent.delete(componentsDB().waterValue)), logKChanges, componentsInputState};\r\n    const inputImmutable=Immutable.fromJS(input);\r\n    let result;\r\n    if(!resultMap.has(inputImmutable)) {\r\n      result=ConcentrationCalculatorWorker.calculate(transit.toJSON(input)).then(res => transit.fromJSON(res)).catch((error) => error);\r\n      //setResultMap(resultMap.set(inputImmutable, result));\r\n    } else {\r\n      result=resultMap.get(inputImmutable);\r\n    }\r\n    return result; \r\n  });\r\n\r\n  const calculateButtonMessage=useCallback(memoize(() => {\r\n    if(calculatingNewResult){\r\n      return \"Calculating...\"\r\n    } else if(gettingNewComponentsDB || gettingNewSpeciesDB){\r\n      return \"Getting Databases...\"\r\n    } else if(componentsInputState.filter((componentData, component) => componentsDB().waterValue!==component && componentsPresent.has(component)).find((componentData, component) => {\r\n      return typeof componentData.get(\"conc\")!==\"number\";\r\n    })) {\r\n      return \"At least one component is empty or invalid\";\r\n    } else {\r\n      return false;\r\n    }\r\n  }), [componentsDB, componentsInputState, componentsPresent, gettingNewComponentsDB, gettingNewSpeciesDB, calculatingNewResult]);\r\n\r\n  const windowSize=useWindowSize();\r\n  const [buttonsHeight, setButtonsHeight]=useState(0);\r\n  const outerAdderHeight=windowSize.height>=700 ? 54 : 0;\r\n  const buttonsRef=useResizeObserver(useCallback(({ height }) => {setButtonsHeight(height);}, [setButtonsHeight]));\r\n  const [currentModal, openModal, closeModal]=useModalStack();\r\n\r\n  const createModalOpenCallback=useCallback(memoize((params) => {\r\n    return () => openModal(params);\r\n  }), [openModal]);\r\n  const createModalCloseCallback=useCallback(memoize((params) => {\r\n    return () => closeModal(params);\r\n  }), [closeModal]);\r\n\r\n  const onHPlusOptionChange=useCallback((val) => {\r\n    if(hPlusOption===pHOption){\r\n      toggleChecked(componentsDB().hPlusValue);\r\n      updateConc(componentsDB().hPlusValue, -Math.log10(componentsInputState.get(componentsDB().hPlusValue).get(\"conc\")))\r\n    } else if(val===pHOption) {\r\n      toggleChecked(componentsDB().hPlusValue);\r\n      updateConc(componentsDB().hPlusValue, Math.pow(10, -componentsInputState.get(componentsDB().hPlusValue).get(\"conc\")))\r\n    }\r\n    setHPlusOption(val);\r\n  }, [setHPlusOption, updateConc, hPlusOption, componentsDB, componentsInputState]);\r\n\r\n  return(\r\n    <Form>\r\n      <Container style={{\"height\" : \"calc(100vh - \"+(props.headerHeight+buttonsHeight+props.footerHeight)+\"px)\"}}>\r\n        <Row>\r\n          <Col className=\"p-0\">\r\n            <ScrollContainer headerHeight={props.headerHeight} footerHeight={props.footerHeight+buttonsHeight+outerAdderHeight}>\r\n              <ComponentListHeader hPlusOptionsRef={hPlusOptionsRef} defaultVal={hPlusOption} onChange={onHPlusOptionChange}/>\r\n              <Suspense fallback={<SpinnerComponentRow/>}>\r\n                <HPlusComponent pH={pHOption===hPlusOption} componentsDB={componentsDB} componentsInputState={componentsInputState} updateConc={updateConc}/>\r\n              </Suspense>\r\n              <Row>\r\n                <Col xs=\"3\" sm=\"5\" className=\"center-items\">\r\n                  <label className=\"w-100 d-none d-sm-block text-muted text-center\">\r\n                    Components\r\n                  </label>\r\n                  <label className=\"w-100 d-block d-sm-none text-muted text-center\">\r\n                    Comp.\r\n                  </label>\r\n                </Col>\r\n                <Col xs={{span: 7, offset: 0}} sm={{span: 5, offset:0}}>\r\n                  <label className=\"w-100 text-muted text-center\">\r\n                    Total Conc.\r\n                  </label>\r\n                </Col>\r\n              </Row>\r\n              <hr className=\"mt-0 mb-3\"/>\r\n              <Suspense fallback={<SpinnerComponentRow/>}>\r\n                <ComponentList componentsDB={componentsDB} componentsPresent={componentsPresent} toggleChecked={toggleChecked} updateConc={updateConc} removeComponents={removeComponents}/>\r\n              </Suspense>\r\n              <Row>\r\n                <Col>\r\n                  {\r\n                    windowSize.height<700 &&\r\n                    <div className=\"d-flex center-items w-100\">\r\n                      <Suspense fallback=\"\">\r\n                        <ComponentSelectModal componentsPresent={componentsPresent} componentsDB={componentsDB} addComponents={addComponents} windowHeight={windowSize.height}/>\r\n                      </Suspense>\r\n                    </div>\r\n                  }\r\n                </Col>\r\n              </Row>\r\n            </ScrollContainer>\r\n            <Container fluid>\r\n              <Row className=\"pt-3\">\r\n                <Col>\r\n                  {\r\n                    windowSize.height>=700 &&\r\n                    <Suspense fallback=\"\">\r\n                      <ComponentSelect componentsPresent={componentsPresent} componentsDB={componentsDB} addComponents={addComponents}/>\r\n                    </Suspense>\r\n                  }\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          </Col>\r\n          <Col xs=\"4\" className=\"d-none d-md-flex p-0\">\r\n            <ScrollContainer headerHeight={props.headerHeight} footerHeight={props.footerHeight+buttonsHeight}>\r\n              <Row className=\"mt-4\">\r\n                <Col className=\"center-items\">\r\n                  <h5 className=\"text-muted text-center\">\r\n                    Species\r\n                  </h5>\r\n                </Col>\r\n              </Row>\r\n              <Suspense fallback={<SpinnerComponentRow/>}>\r\n                <SpeciesList openTableauModal={createModalOpenCallback(\"tableau\")} speciesDB={speciesDB} componentsDB={componentsDB} componentsPresent={componentsPresent} speciesEnabled={speciesEnabled} speciesCouldBePresent={speciesCouldBePresent} setSpeciesEnabled={setSpeciesEnabled}/>\r\n              </Suspense>\r\n            </ScrollContainer>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <ResizeObserverWrapper ref={buttonsRef}>\r\n        <Container>\r\n          <Form.Row className=\"py-3\">\r\n            <Col className=\"d-none d-md-block\">\r\n              <CalculateButton onClick={createModalOpenCallback(\"results\")} disableMessage={calculateButtonMessage} className=\"w-100\" variant=\"primary\" calculateNewResult={calculateNewResult}/>\r\n            </Col>\r\n            <Col className=\"d-block d-md-none\">\r\n              <Button className=\"w-100\" variant=\"primary\" onClick={createModalOpenCallback(\"species\")}>Select Species</Button>\r\n            </Col>\r\n          </Form.Row>\r\n        </Container>\r\n      </ResizeObserverWrapper>\r\n      <Modal show={currentModal===\"species\"} onHide={createModalCloseCallback(\"species\")} backdrop=\"static\" scrollable>\r\n        <Modal.Header closeButton>\r\n          Species\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Suspense fallback={<SpinnerComponentRow/>}>\r\n            <SpeciesList openTableauModal={createModalOpenCallback(\"tableau\")} speciesDB={speciesDB} componentsDB={componentsDB} componentsPresent={componentsPresent} speciesEnabled={speciesEnabled} speciesCouldBePresent={speciesCouldBePresent} setSpeciesEnabled={setSpeciesEnabled}/>\r\n          </Suspense>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={createModalCloseCallback(\"species\")}>\r\n            Close\r\n          </Button>\r\n          <CalculateButton onClick={createModalOpenCallback(\"results\")} disableMessage={calculateButtonMessage} className=\"ml-auto\" variant=\"primary\" calculateNewResult={calculateNewResult}/>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal size=\"xl\" show={currentModal===\"tableau\"} onHide={createModalCloseCallback(\"tableau\")} backdrop=\"static\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Tableau</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Suspense fallback={<SpinnerComponentRow/>}>\r\n            <TableauTable logKChanges={logKChanges} setLogKChanges={setLogKChanges} componentsPresent={componentsPresent} componentsInputState={componentsInputState} windowWidth={windowSize.width} speciesHere={speciesHere} speciesEnabled={speciesEnabled} speciesDB={speciesDB} componentsDB={componentsDB}/>\r\n          </Suspense>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={createModalCloseCallback(\"tableau\")}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal size=\"xl\" show={currentModal===\"results\"} onHide={createModalCloseCallback([\"results\", \"species\"])} backdrop=\"static\" scrollable>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Results</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Suspense fallback={<SpinnerComponentRow/>}>\r\n            <Results currentResult={currentResult}/>\r\n          </Suspense>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={createModalCloseCallback([\"results\", \"species\"])}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default FreeQL;","import React, { useState, useCallback } from 'react';\r\nimport './App.css';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport CenteringDiv from './utils/CenteringDiv.js';\r\nimport useResizeObserver from './utils/useResizeObserver.js';\r\nimport ResizeObserverWrapper from './utils/ResizeObserverWrapper.js';\r\nimport FreeQL from \"./FreeQL\";\r\n\r\n\r\nfunction App() {\r\n  const [headerHeight, setHeaderHeight]=useState(0);\r\n  const headerRef=useResizeObserver(useCallback(({height}) => {setHeaderHeight(height)}, [setHeaderHeight]));\r\n  const [footerHeight, setFooterHeight]=useState(0);\r\n  const footerRef=useResizeObserver(useCallback(({height}) => {setFooterHeight(height)}, [setFooterHeight]));\r\n  return (\r\n    <>\r\n      <ResizeObserverWrapper ref={headerRef}>\r\n        <Navbar expand=\"sm\" bg=\"dark\" variant=\"dark\">\r\n          <CenteringDiv end=\"sm\">\r\n            <Navbar.Brand href=\"/\">\r\n              <img src=\"assets/img/logo.png\" width=\"65\" alt=\"FreeQL\"/>\r\n            </Navbar.Brand>\r\n          </CenteringDiv>\r\n          <Navbar.Brand href=\"/\">FreeQL</Navbar.Brand>\r\n          <CenteringDiv end=\"sm\"/>\r\n          <Navbar.Collapse id=\"navbarTogglerDemo02\">\r\n            <Nav className=\"mr-auto\" style={{\"fontSize\": \"1.025rem\"}}>\r\n              <Nav.Link href=\"https://stephmorel8910.gitbook.io/freeql/\" target=\"_blank\">Help</Nav.Link>\r\n              <Nav.Link href=\"https://github.com/SoAsEr/FreeQL/blob/master/README.md\" target=\"_blank\">README</Nav.Link>\r\n              <Nav.Link href=\"https://github.com/SoAsEr/FreeQL/\" target=\"_blank\">Github</Nav.Link>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </ResizeObserverWrapper>\r\n\r\n      <FreeQL headerHeight={headerHeight} footerHeight={footerHeight}>\r\n\r\n      </FreeQL>\r\n      <ResizeObserverWrapper ref={footerRef}>\r\n        <footer className=\"bg-dark p-4 p-md-5 text-center\">\r\n          <Container>\r\n            <Row>\r\n              <Col>\r\n                <span className=\"text-light\">Created by Stephane Morel</span>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </footer>\r\n      </ResizeObserverWrapper>\r\n    </>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n/*\r\nReactDOM.render(\r\n  //<React.StrictMode>\r\n    <App />,\r\n  //</React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n*/\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.unstable_createRoot(rootElement).render(<App />);\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n","import { useRef, useCallback } from \"react\";\r\n\r\nimport { useCallbackRef } from \"./ref-utils\";\r\n\r\n\r\nconst useResizeObserver=(callback) =>{\r\n  const resizeObsRef=useRef(new ResizeObserver((entries) => {\r\n    const boundingRect=entries[0].target.getBoundingClientRect();\r\n    callback({width: boundingRect.width, height: boundingRect.height})\r\n  }));\r\n  return useCallbackRef(\r\n    useCallback((node) => {\r\n      resizeObsRef.current.observe(node)\r\n    }, [resizeObsRef]), \r\n    useCallback((node) => {\r\n      resizeObsRef.current.unobserve(node)\r\n    }, [resizeObsRef]),\r\n    useCallback(() => callback({width: 0, height: 0}), [callback])\r\n  );\r\n}\r\n  \r\nexport default useResizeObserver;","import React from 'react';\r\n\r\nconst CenteringDiv=(props) => {\r\n  return (\r\n    <div className={\"flex-\"+(props.start ? props.start+\"-\" : \"\")+\"grow-1 \"+(props.end ? \"flex-\"+props.end+\"-grow-0\" : \"\")}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\nexport default CenteringDiv;","import { useCallback, useRef } from \"react\";\r\n\r\nconst useCallbackRef=(onUpdate , cleanupOld, onNull) => {\r\n  const ref = useRef(null)\r\n  const setRef = useCallback(node => {\r\n    if (ref.current) {\r\n      cleanupOld(ref.current);\r\n    }\r\n    \r\n    if (node) {\r\n      onUpdate(node)\r\n    } else {\r\n      onNull();\r\n    }\r\n    \r\n    ref.current = node\r\n  }, [cleanupOld, onUpdate, onNull])\r\n  \r\n  return setRef\r\n}\r\n\r\nconst mergeRefs = (...refs) => {\r\n  const filteredRefs = refs.filter(Boolean);\r\n  if (!filteredRefs.length) return null;\r\n  if (filteredRefs.length === 0) return filteredRefs[0];\r\n  return inst => {\r\n    for (const ref of filteredRefs) {\r\n      if (typeof ref === 'function') {\r\n        ref(inst);\r\n      } else if (ref) {\r\n        ref.current = inst;\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport {useCallbackRef, mergeRefs};"],"sourceRoot":""}