(this.webpackJsonpfreeql=this.webpackJsonpfreeql||[]).push([[15],{253:function(e,t,a){"use strict";a.r(t);var n=a(132),r=a(96),c=a(18),l=a(0),o=a.n(l),u=a(92),s=a(69),i=a(19),d=a(77),g=a(101),m=a.n(g),h=a(229),p=a(142),f=a(85),b=a(143),E=a(93),v=a.n(E),j=function(e){var t=e.logKChanges,a=e.setLogKChanges,n=e.specie,r=e.defaultVal,s=Object(l.useState)(t.get(n)),i=Object(c.a)(s,2),d=i[0],g=i[1],m=Object(l.useState)(!1),h=Object(c.a)(m,2),p=h[0],b=h[1],E=Object(l.useState)(""),j=Object(c.a)(E,2),O=j[0],C=j[1],y=Object(l.useRef)(null),F=void 0===d;Object(l.useEffect)((function(){a(F?t.delete(n):t.set(n,d))}),[t,a,d,F,n]),Object(l.useEffect)((function(){p&&y.current.focus()}),[p,y]);var k=function(e){e.preventDefault(),b(!1),C(""),g(v()(O)?Number(O):void 0)};return p?o.a.createElement(f.a,{onSubmit:k},o.a.createElement(u.a,{validation:function(e){return e.match(/^-?\d*\.?\d*$/)},onChange:function(e){C(e.target.value)},onBlur:k},o.a.createElement(f.a.Control,{ref:y,style:{width:"80px"},onKeyDown:function(e){27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),b(!1),C(""))}}))):F?o.a.createElement("span",{className:"text-nowrap"},r.toFixed(3).replace(/\.000$|0{0,2}$/,""),o.a.createElement("svg",{onClick:function(e){b(!0)},className:"logK-editor",style:{marginTop:"-0.2rem"},width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"}))):o.a.createElement("span",{className:"text-nowrap"},d.toFixed(3).replace(/\.000$|0{0,2}$/,""),o.a.createElement("svg",{onClick:function(e){g(void 0)},className:"logK-reset",style:{marginTop:"-0.12rem"},width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M12.83 6.706a5 5 0 0 0-7.103-3.16.5.5 0 1 1-.454-.892A6 6 0 1 1 2.545 5.5a.5.5 0 1 1 .91.417 5 5 0 1 0 9.375.789z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M7.854.146a.5.5 0 0 0-.708 0l-2.5 2.5a.5.5 0 0 0 0 .708l2.5 2.5a.5.5 0 1 0 .708-.708L5.707 3 7.854.854a.5.5 0 0 0 0-.708z"})))},O=o.a.memo((function(e){var t=e.componentsPresent,a=e.componentsInputState,u=e.speciesHere,g=e.speciesDB,f=e.componentsDB,E=e.logKChanges,v=e.setLogKChanges,O=e.windowWidth,C=Object(l.useCallback)((function(e,t){v(m()(E,Object(r.a)({},e,{$set:t})))}),[v,E]),y=Object(l.useState)(0),F=Object(c.a)(y,2),k=F[0],w=F[1],x=Object(l.useState)(0),M=Object(c.a)(x,2),S=M[0],H=M[1],K=Object(l.useState)(0),P=Object(c.a)(K,2),N=P[0],A=P[1],$=O>=992,R=Object(l.useMemo)((function(){return{Header:"",Footer:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"d-none d-xl-block"},"Total Concentration"),o.a.createElement("span",{className:"d-block d-xl-none"},"Total Conc."))},id:"name",accessor:function(e){var t=Object(c.a)(e,2),a=(t[0],t[1].name);return o.a.createElement(s.a,null,a)}}}),[]),T=Object(l.useMemo)((function(){return d.List(t.delete(f().waterValue)).map((function(e){return{Header:function(){return o.a.createElement(s.a,null,f().components.get(e).name)},Footer:a.getIn([e,"equilChecked"])?"TBC":a.getIn([e,"conc"]),id:e,accessor:function(t){var a,n=Object(c.a)(t,2);n[0];return null!==(a=n[1].components.get(e))&&void 0!==a?a:0}}}))}),[t,a,f]),B=Object(l.useMemo)((function(){return{Header:"logK",Footer:"",id:"logK",accessor:function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],r=n.logK,l=n.type,u=n.logKChanges;return o.a.createElement(j,{specie:a,defaultVal:r,logKChanges:u,setLogKChanges:C.bind(null,l)})}}}),[C]),L=Object(l.useMemo)((function(){return $?T.unshift(R).push(B):T.unshift(B).unshift(R)}),[R,T,B,$]),V=Object(l.useMemo)((function(){return d.List([d.List(u().aqs).map((function(e){return[e,Object(n.a)(Object(n.a)({},g().aqs.species.get(e)),{},{logKChanges:E.aqs,type:"aqs"})]})),d.List(u().solids).map((function(e){return[e,Object(n.a)(Object(n.a)({},g().solids.species.get(e)),{},{logKChanges:E.solids,type:"solids"})]})),d.List(u().gases).map((function(e){return[e,Object(n.a)(Object(n.a)({},g().gases.species.get(e)),{},{logKChanges:E.gases,type:"gases"})]}))]).flatten(!0)}),[u,g,E]),q=Object(p.useTable)({columns:L,data:V}),z=q.getTableProps,D=q.getTableBodyProps,G=q.headerGroups,I=q.footerGroups,W=q.rows,J=q.prepareRow,Q=Object(i.a)(Object(l.useCallback)((function(e){var t=e.width,a=e.height;w(t),H(a)}),[H])),U=Object(i.a)(Object(l.useCallback)((function(e){var t=e.width;A(t)}),[A]));return o.a.createElement(h.Scrollbars,{autoHide:!0,style:{width:"100%"},autoHeight:!0,autoHeightMax:"calc(90vh - 63px - 71px - 2rem)",renderTrackHorizontal:function(e){var t=m()(e.style,{$merge:{right:2,bottom:2,left:2,borderRadius:3,marginLeft:k,marginRight:$?N:0}});return o.a.createElement("div",Object.assign({},e,{style:t}))},renderTrackVertical:function(e){var t=m()(e.style,{$merge:{right:2,bottom:2,top:2,borderRadius:3,marginTop:S}});return o.a.createElement("div",Object.assign({},e,{style:t}))}},o.a.createElement(b.a,Object.assign({striped:!0,bordered:!0,hover:!0},z({style:{}})),o.a.createElement("thead",null,G.map((function(e){return o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return e.Header?"logK"===e.id?o.a.createElement("th",Object.assign({},e.getHeaderProps({className:"vertical-align-middle sticky-header-y sticky-column-lg sticky"}),{ref:U}),e.render("Header")):o.a.createElement("th",e.getHeaderProps({className:"vertical-align-middle sticky-header-y sticky"}),e.render("Header")):o.a.createElement("th",Object.assign({},e.getHeaderProps({className:"sticky sticky-header-y sticky-header-x-lg bg-white"}),{ref:Q}))})))}))),o.a.createElement("tbody",D(),W.map((function(e){return J(e),o.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return"name"===e.column.id?o.a.createElement("th",e.getCellProps({className:"vertical-align-middle sticky-header-lg sticky"}),e.render("Cell")):"logK"===e.column.id?o.a.createElement("td",e.getCellProps({className:"vertical-align-middle sticky-column-lg sticky"}),e.render("Cell")):o.a.createElement("td",e.getCellProps({className:"vertical-align-middle"}),e.render("Cell"))})))}))),o.a.createElement("tfoot",null,I.map((function(e){return o.a.createElement("tr",e.getFooterGroupProps(),e.headers.map((function(e){return"name"===e.id?o.a.createElement("th",e.getFooterProps({className:"vertical-align-middle sticky-x-header-lg sticky"}),e.render("Footer")):"logK"===e.id?o.a.createElement("th",e.getFooterProps({className:"vertical-align-middle crossed-out sticky-column-lg sticky"}),e.render("Footer")):o.a.createElement("td",e.getFooterProps({className:"vertical-align-middle sticky"}),e.render("Footer"))})))})))))}));t.default=O},69:function(e,t,a){"use strict";var n=a(67),r=a(0),c=a.n(r),l=c.a.memo((function(e){var t=Object(n.a)(/(.*?(?:(?![\t-\r \(0-9\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S]))(?:($|[\t-\r \.:\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])|(([\+\x2D])(?:(?:1|([2-9]))|($|[\t-\r \.:\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])))|([0-9]+)(([\+\x2D])(?:(?:1|([2-9]))|($|[\t-\r \.:\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])))?)($|[\t-\r \.:\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])?/g,{WordMatcher:1,EndMatcher1:2,Charge1:3,ChargeSign1:4,ChargeValue1:5,EndMatcher2:6,SubMatcher:7,Charge2:8,ChargeSign2:9,ChargeValue2:10,EndMatcher3:11,EndMatcher4:12});return c.a.createElement("div",e,Array.from(e.children.matchAll(t)).map((function(t){var a=[t.groups.ChargeValue1,t.groups.ChargeValue2].reduce((function(e,t){return t||e}),""),n=[t.groups.ChargeSign1,t.groups.ChargeSign2].reduce((function(e,t){return t||e}),""),r=[t.groups.EndMatcher1,t.groups.EndMatcher2,t.groups.EndMatcher3,t.groups.EndMatcher4].reduce((function(e,t){return t||e}),"");return c.a.createElement("span",{key:e.children.substring(0,t.index)},t.groups.WordMatcher,c.a.createElement("sub",null,t.groups.SubMatcher),c.a.createElement("sup",null,a,n),r)})))}));t.a=l},92:function(e,t,a){"use strict";var n=a(18),r=a(0),c=a.n(r),l=a(31),o=c.a.memo((function(e){var t=c.a.Children.only(e.children),a=Object(r.useState)(""),o=Object(n.a)(a,2),u=o[0],s=o[1],i=Object(r.useState)([0,0]),d=Object(n.a)(i,2),g=d[0],m=d[1],h=Object(r.useState)(!1),p=Object(n.a)(h,2),f=p[0],b=p[1],E=Object(r.useRef)(null);return Object(r.useEffect)((function(){f&&(E.current.selectionStart=g[0],E.current.selectionEnd=g[1],b(!1))}),[f,g]),c.a.createElement(c.a.Fragment,null,c.a.cloneElement(t,{value:u,onSelect:function(e){f||m([e.target.selectionStart,e.target.selectionEnd])},onChange:function(t){e.validation(t.target.value)?(e.onChange(t),s(t.target.value),m([t.target.selectionStart,t.target.selectionEnd])):b(!0)},onBlur:function(t){e.onBlur(t,s)},ref:Object(l.a)(t.ref,E)}))}));o.defaultProps={onChange:function(){},onBlur:function(){}},t.a=o}}]);
//# sourceMappingURL=15.18e9bc7f.chunk.js.map