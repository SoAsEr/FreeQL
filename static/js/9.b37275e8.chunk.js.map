{"version":3,"sources":["component_groups/components/ComponentRow.js","component_groups/components/HPlusComponent.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp.js","formatting/FormattedChemicalCompound.js","utils/ref-utils.js","utils/ConstantValidationTextInput.js","../node_modules/is-number/index.js"],"names":["ComponentRow","React","memo","props","component","updateConc","toggleChecked","noClose","disableCheck","removeComponents","controlChecked","componentsDB","useState","checked","setChecked","className","xs","sm","width","height","viewBox","fill","xmlns","onClick","fillRule","d","components","get","name","validation","input","match","onChange","e","is_number","target","value","Number","Control","Check","style","type","disabled","HPlusComponent","componentsInputState","pH","hPlusValue","useCallback","amt","Math","pow","_typeof","obj","Symbol","iterator","constructor","prototype","_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","Class","_cache","Map","undefined","fn","Function","toString","call","indexOf","TypeError","has","set","Wrapper","construct","arguments","this","create","enumerable","writable","configurable","_inherits","subClass","superClass","_wrapRegExp","re","groups","BabelRegExp","_RegExp","RegExp","_super","_groups","WeakMap","flags","_this","buildGroups","result","g","keys","reduce","exec","str","replace","substitution","_","args","push","apply","length","FormattedChemicalCompound","regex","Array","from","children","matchAll","map","chargeValue","ChargeValue1","ChargeValue2","prev","curr","chargeSign","ChargeSign1","ChargeSign2","terminator","EndMatcher1","EndMatcher2","EndMatcher3","EndMatcher4","key","substring","index","WordMatcher","SubMatcher","useCallbackRef","onUpdate","cleanupOld","onNull","ref","useRef","setRef","node","current","mergeRefs","refs","filteredRefs","filter","Boolean","inst","ConstantValidationTextInput","child","Children","only","setValue","selection","setSelection","validationMisfired","setValidationMisfire","selectRef","useEffect","selectionStart","selectionEnd","cloneElement","onSelect","onBlur","defaultProps","module","exports","num","trim","isFinite"],"mappings":"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","file":"static/js/9.b37275e8.chunk.js","sourcesContent":["\r\nimport React, { useState } from 'react';\r\n\r\nimport ConstantValidationTextInput from '../../utils/ConstantValidationTextInput.js';\r\n\r\nimport FormattedChemicalCompound from '../../formatting/FormattedChemicalCompound.js';\r\n\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport is_number from 'is-number';\r\n\r\n\r\nconst ComponentRow=React.memo((props) => {\r\n  const {component, updateConc, toggleChecked, noClose, disableCheck, removeComponents, controlChecked, componentsDB}=props;\r\n  \r\n  const [checked, setChecked]=useState(false);\r\n\r\n  const onInputChange=(e) => {\r\n    if(is_number(e.target.value)){\r\n      updateConc(component, Number(e.target.value));\r\n    } else {\r\n      updateConc(component, null);\r\n    }\r\n  }\r\n\r\n  const onCheckToggle=(e) => {\r\n    setChecked(!checked);\r\n    toggleChecked(component);\r\n  }\r\n\r\n  return(\r\n    <Row className=\"mb-3 p-0\">\r\n      <Col xs=\"3\" sm=\"5\" className=\"w-100 justify-content-end d-flex flex-wrap\">\r\n        {!noClose && <svg width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 16 16\" className=\"bi bi-x lighten-hover mr-auto\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" onClick={() => removeComponents([component])}>\r\n          <path fillRule=\"evenodd\" d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n        </svg>}\r\n        <FormattedChemicalCompound>{componentsDB().components.get(component).name}</FormattedChemicalCompound>\r\n      </Col>\r\n      <Col xs=\"7\" sm=\"5\" className=\"d-flex align-items-center\">\r\n        <ConstantValidationTextInput validation={(input) => input.match(/^-?\\d*\\.?\\d*e?-?\\d*$/)} onChange={onInputChange}>\r\n          <Form.Control className=\"text-center\"/>\r\n        </ConstantValidationTextInput>\r\n      </Col>\r\n      <Col xs=\"2\" className=\"d-flex center-items\">\r\n        <Form.Check style={{\"paddingLeft\": \"1.7rem\"}} type=\"checkbox\" checked={controlChecked ?? checked} disabled={disableCheck} onChange={onCheckToggle}/>\r\n      </Col>\r\n    </Row>\r\n  );\r\n});\r\n\r\n\r\n\r\n\r\n\r\nexport default ComponentRow;","import React, { useCallback } from 'react';\r\n\r\nimport ComponentRow from \"./ComponentRow.js\";\r\n\r\nconst HPlusComponent=React.memo((props) => {\r\n  const {componentsDB, updateConc, componentsInputState, pH}=props;\r\n  return(\r\n    <ComponentRow component={componentsDB().hPlusValue} componentsDB={componentsDB} updateConc={pH ? useCallback((component, amt) => updateConc(component, Math.pow(10, -amt)), [updateConc]) : updateConc} disableCheck={true} controlChecked={componentsInputState.get(componentsDB().hPlusValue)?.get(\"equilChecked\")} noClose/>\r\n  );\r\n});\r\n\r\n\r\n\r\nexport default HPlusComponent;","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport wrapNativeSuper from \"./wrapNativeSuper\";\nimport getPrototypeOf from \"./getPrototypeOf\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nimport inherits from \"./inherits\";\nexport default function _wrapRegExp(re, groups) {\n  _wrapRegExp = function _wrapRegExp(re, groups) {\n    return new BabelRegExp(re, undefined, groups);\n  };\n\n  var _RegExp = wrapNativeSuper(RegExp);\n\n  var _super = RegExp.prototype;\n\n  var _groups = new WeakMap();\n\n  function BabelRegExp(re, flags, groups) {\n    var _this = _RegExp.call(this, re, flags);\n\n    _groups.set(_this, groups || _groups.get(re));\n\n    return _this;\n  }\n\n  inherits(BabelRegExp, _RegExp);\n\n  BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n\n    if (result) result.groups = buildGroups(result, this);\n    return result;\n  };\n\n  BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n    if (typeof substitution === \"string\") {\n      var groups = _groups.get(this);\n\n      return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        return \"$\" + groups[name];\n      }));\n    } else if (typeof substitution === \"function\") {\n      var _this = this;\n\n      return _super[Symbol.replace].call(this, str, function () {\n        var args = [];\n        args.push.apply(args, arguments);\n\n        if (_typeof(args[args.length - 1]) !== \"object\") {\n          args.push(buildGroups(args, _this));\n        }\n\n        return substitution.apply(this, args);\n      });\n    } else {\n      return _super[Symbol.replace].call(this, str, substitution);\n    }\n  };\n\n  function buildGroups(result, re) {\n    var g = _groups.get(re);\n\n    return Object.keys(g).reduce(function (groups, name) {\n      groups[name] = result[g[name]];\n      return groups;\n    }, Object.create(null));\n  }\n\n  return _wrapRegExp.apply(this, arguments);\n}","import React from \"react\";\r\n\r\nconst FormattedChemicalCompound=React.memo((props) => {\r\n  /*\r\n  WordMatcher=(.*?[^0-9\\[\\(])\r\n  SubMatcher=([0-9])\r\n  EndMatcher=([$\\s])\r\n  SupMatcher=([+-])(?:(?:1|([2-9]))|{EndMatcher})\r\n  WholeExp={WordMatcher}(?:{EndMatcher}|{SubMatcher}{SupMatcher}?|{SupMatcher})\r\n  (WordMatcher[0])_(SubMatcher[0])^(SupMatcher[1]SupMatcher[0])EndMatcher[0]\r\n  That would only work with ruby where the capture groups are changed on every recursion\r\n  */\r\n  //https://regex101.com/r/POrbvL/4\r\n  const regex=/(?<WordMatcher>.*?[^0-9[(\\s])(?:(?<EndMatcher1>$|[:.\\s])|(?<Charge1>(?<ChargeSign1>[+-])(?:(?:1|(?<ChargeValue1>[2-9]))|(?<EndMatcher2>$|[:.\\s])))|(?<SubMatcher>[0-9]+)(?<Charge2>(?<ChargeSign2>[+-])(?:(?:1|(?<ChargeValue2>[2-9]))|(?<EndMatcher3>$|[:.\\s])))?)(?<EndMatcher4>$|[:.\\s])?/g;\r\n  //$<WordMatcher>_($<SubMatcher>)^($<ChargeValue1>$<ChargeValue2>$<ChargeSign1>$<ChargeSign2>)$<EndMatcher1>$<EndMatcher2>$<EndMatcher3>\r\n  return(\r\n    <div {...props}>\r\n        {Array.from(props.children.matchAll(regex)).map((match) => {\r\n          const chargeValue=[match.groups.ChargeValue1, match.groups.ChargeValue2].reduce((prev, curr) => curr ? curr : prev, \"\");\r\n          const chargeSign=[match.groups.ChargeSign1, match.groups.ChargeSign2].reduce((prev, curr) => curr ? curr : prev, \"\");\r\n          const terminator=[match.groups.EndMatcher1, match.groups.EndMatcher2, match.groups.EndMatcher3, match.groups.EndMatcher4].reduce((prev, curr) => curr ? curr : prev, \"\");\r\n          return (\r\n            <span key={props.children.substring(0, match.index)}>\r\n              {match.groups.WordMatcher}<sub>{match.groups.SubMatcher}</sub><sup>{chargeValue}{chargeSign}</sup>{terminator}\r\n            </span>\r\n          );\r\n        })\r\n        }\r\n    </div>\r\n  );\r\n});\r\nexport default FormattedChemicalCompound;","import { useCallback, useRef } from \"react\";\r\n\r\nconst useCallbackRef=(onUpdate , cleanupOld, onNull=() => {}) => {\r\n  const ref = useRef(null)\r\n  const setRef = useCallback(node => {\r\n    if (ref.current) {\r\n      cleanupOld(ref.current);\r\n    } \r\n    \r\n    if (node) {\r\n      onUpdate(node)\r\n    } else {\r\n      onNull();\r\n    }\r\n    \r\n    ref.current = node\r\n  }, [cleanupOld, onUpdate, onNull])\r\n  \r\n  return setRef\r\n}\r\n\r\nconst mergeRefs = (...refs) => {\r\n  const filteredRefs = refs.filter(Boolean);\r\n  if (!filteredRefs.length) return null;\r\n  if (filteredRefs.length === 0) return filteredRefs[0];\r\n  return inst => {\r\n    for (const ref of filteredRefs) {\r\n      if (typeof ref === 'function') {\r\n        ref(inst);\r\n      } else if (ref) {\r\n        ref.current = inst;\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport {useCallbackRef, mergeRefs};","import React, { useState, useRef, useEffect } from 'react';\r\nimport { mergeRefs } from './ref-utils';\r\n\r\nconst ConstantValidationTextInput=React.memo((props) => {\r\n  const child=React.Children.only(props.children);\r\n  const [value, setValue]=useState(\"\");\r\n  const [selection, setSelection]=useState([0,0]);\r\n  const [validationMisfired, setValidationMisfire]=useState(false);\r\n  const selectRef=useRef(null);\r\n  const onBlur=(e) => {\r\n    props.onBlur(e, setValue);\r\n  }\r\n\r\n  const onChange=(e) => {\r\n    if(props.validation(e.target.value)){\r\n      props.onChange(e);\r\n      setValue(e.target.value);\r\n      setSelection([e.target.selectionStart, e.target.selectionEnd]);\r\n    } else {\r\n      setValidationMisfire(true);\r\n    }\r\n  }\r\n  const onSelect=(e) => {\r\n    if(!validationMisfired){\r\n      setSelection([e.target.selectionStart, e.target.selectionEnd]);\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    if(validationMisfired) {\r\n      selectRef.current.selectionStart=selection[0];\r\n      selectRef.current.selectionEnd=selection[1];\r\n      setValidationMisfire(false);\r\n    }\r\n  }, [validationMisfired, selection]);\r\n  return(\r\n    <>\r\n      {React.cloneElement(child, { value: value, onSelect: onSelect, onChange: onChange, onBlur: onBlur, ref: mergeRefs(child.ref, selectRef)})}\r\n    </>\r\n  )\r\n});\r\nConstantValidationTextInput.defaultProps={\r\n  onChange: () => {},\r\n  onBlur: () => {},\r\n};\r\n\r\nexport default ConstantValidationTextInput;","/*!\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(num) {\n  if (typeof num === 'number') {\n    return num - num === 0;\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\n  }\n  return false;\n};\n"],"sourceRoot":""}