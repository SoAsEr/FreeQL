(this.webpackJsonpfreeql=this.webpackJsonpfreeql||[]).push([[0],{148:function(e,t,a){e.exports=a(235)},153:function(e,t,a){},154:function(e,t,a){},177:function(e,t){},179:function(e,t){},235:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=(a(153),a(7)),s=(a(154),a(80)),u=a(81),i=a(59),m=a(25),d=a(19),f=function(e){return r.a.createElement("div",{className:"flex-"+(e.start?e.start+"-":"")+"grow-1 "+(e.end?"flex-"+e.end+"-grow-0":"")},e.children)},p=a(20),b=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t.filter(Boolean);return n.length?0===n.length?n[0]:function(e){var t,a=Object(p.a)(n);try{for(a.s();!(t=a.n()).done;){var r=t.value;"function"===typeof r?r(e):r&&(r.current=e)}}catch(l){a.e(l)}finally{a.f()}}:null},h=function(e){var t=Object(n.useRef)(new ResizeObserver((function(t){var a=t[0].target.getBoundingClientRect();e({width:a.width,height:a.height})})));return function(e,t,a){var r=Object(n.useRef)(null);return Object(n.useCallback)((function(n){r.current&&t(r.current),n?e(n):a(),r.current=n}),[t,e,a])}(Object(n.useCallback)((function(e){t.current.observe(e)}),[t]),Object(n.useCallback)((function(e){t.current.unobserve(e)}),[t]),Object(n.useCallback)((function(){return e({width:0,height:0})}),[e]))},g=r.a.forwardRef((function(e,t){return r.a.createElement("div",{ref:t,className:"prevent-margin-collapse"},[e.children])})),E=a(100),v=a(55),O=a.n(v),w=a(10),j=a(114),C=a(42),y=a.n(C),k=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=function(){r({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a};function x(e){var t,a="pending",n=e.then((function(e){a="success",t=e}),(function(e){a="error",t=e}));return function(){if("pending"===a)throw n;if("error"===a)throw t;if("success"===a)return t}}var S=function(e,t){var a=Object(n.useState)({current:null}),r=Object(o.a)(a,2),l=r[0],c=r[1],s=Object(n.useState)(!!t),u=Object(o.a)(s,2),i=u[0],m=u[1],d=Object(n.useCallback)((function(t){m(!0),c({current:x(e(t).then((function(e){return m(!1),e})))})}),[c,e]),f=Object(n.useMemo)((function(){return l.current||!t?l.current:function(){throw new Promise((function(){}))}}),[l]);return Object(n.useEffect)((function(){t&&d(t)}),[]),[f,d,i]},M=a(138),N=a(71),P=a(139),F=a.n(P),H=function(e){return new Promise((function(t){return F()(e,{relax_column_count:!0},(function(e,a){t(a,e)}))}))},R=a(102),B=function(e,t,a){return e[t[a].row][t[a].column]},L=function(e,t,a,n){return e[t[a].row][t[a].column+n*t[a].stride]},A=function(e){var t=e.url,a=e.options,n=e.type,r=e.callback;if(console.log({url:t,options:a,type:n,callback:r}),"link"===n)return fetch(t).then((function(e){return e.text()})).then((function(e){return H(e)})).then((function(e){return Object(R.chunk)(e,a.linesPerItem)})).then((function(e){return{hPlusValue:a.hPlusValue,waterValue:a.waterValue,components:w.OrderedMap(e.filter((function(e){return Number(B(e,a,"id"))})).map((function(e){return[Number(B(e,a,"id")),{name:B(e,a,"name"),charge:Number(B(e,a,"charge"))}]})))}})).then((function(e){if(!r)return e;var t=r(e);return t instanceof Promise?t.then((function(t){return e})):e}))},T=function(e){var t=e.url,a=e.options,n=e.type,r=e.callback;if(console.log({url:t,options:a,type:n,callback:r}),"link"===n)return Promise.all([t].concat(Object(N.a)(a.labels.urls)).map((function(e){return fetch(e)}))).then((function(e){return Promise.all(e.map((function(e){return e.text().then((function(e){return H(e)}))})))})).then((function(e){var t=Object(M.a)(e),n=t[0],r=t.slice(1).map((function(e){return Object(R.chunk)(e,a.linesPerItem)})).map((function(e){return e.map((function(e){return B(e,a.labels,"id")}))})),l=w.Map().withMutations((function(e){var t,n=Object(p.a)(r.entries());try{for(n.s();!(t=n.n()).done;){var l,c=Object(o.a)(t.value,2),s=c[0],u=c[1],i=Object(p.a)(u);try{for(i.s();!(l=i.n()).done;){var m=l.value;e.set(Number(m),a.labels.labelMap[s])}}catch(d){i.e(d)}finally{i.f()}}}catch(d){n.e(d)}finally{n.f()}})),c=Object(R.chunk)(n,a.linesPerItem).filter((function(e){return Number(e[0][0])})),s={aqs:{species:w.OrderedMap(),componentToSpecies:w.Map()},solids:{species:w.OrderedMap(),componentToSpecies:w.Map()},gases:{species:w.OrderedMap(),componentToSpecies:w.Map()}};return s.aqs.species=s.aqs.species.withMutations((function(e){s.solids.species=s.solids.species.withMutations((function(t){s.gases.species=s.gases.species.withMutations((function(n){var r,o={aqSpecies:e,solidSpecies:t,gasSpecies:n},s=Object(p.a)(c);try{var u=function(){var e,t,n=r.value,c=Number(B(n,a,"id")),s=(null!==(e=l.get(c))&&void 0!==e?e:"aq")+"Species";o[s].set(c,{name:B(n,a,"name"),charge:Number(B(n,a,"charge")),logK:Number(B(n,a,"logK")),label:null!==(t=l.get(Number(B(n,a,"id"))))&&void 0!==t?t:0,components:w.Map().withMutations((function(e){for(var t=0;t<B(n,a,"numComponents");++t){var r=Number(L(n,a,"components",t)),l=Number(L(n,a,"componentAmts",t));e.set(r,l)}}))})};for(s.s();!(r=s.n()).done;)u()}catch(i){s.e(i)}finally{s.f()}}))}))})),s.aqs.componentToSpecies=s.aqs.componentToSpecies.withMutations((function(e){var t,a=Object(p.a)(s.aqs.species);try{var n=function(){var a,n=Object(o.a)(t.value,2),r=n[0],l=n[1].components,c=Object(p.a)(l);try{for(c.s();!(a=c.n()).done;){var s=Object(o.a)(a.value,1)[0];e.update(s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.Set();return e.add(r)}))}}catch(u){c.e(u)}finally{c.f()}};for(a.s();!(t=a.n()).done;)n()}catch(r){a.e(r)}finally{a.f()}})),s.solids.componentToSpecies=s.solids.componentToSpecies.withMutations((function(e){var t,a=Object(p.a)(s.solids.species);try{var n=function(){var a,n=Object(o.a)(t.value,2),r=n[0],l=n[1].components,c=Object(p.a)(l);try{for(c.s();!(a=c.n()).done;){var s=Object(o.a)(a.value,1)[0];e.update(s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.Set();return e.add(r)}))}}catch(u){c.e(u)}finally{c.f()}};for(a.s();!(t=a.n()).done;)n()}catch(r){a.e(r)}finally{a.f()}})),s.gases.componentToSpecies=s.gases.componentToSpecies.withMutations((function(e){var t,a=Object(p.a)(s.gases.species);try{var n=function(){var a,n=Object(o.a)(t.value,2),r=n[0],l=n[1].components,c=Object(p.a)(l);try{for(c.s();!(a=c.n()).done;){var s=Object(o.a)(a.value,1)[0];e.update(s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.Set();return e.add(r)}))}}catch(u){c.e(u)}finally{c.f()}};for(a.s();!(t=a.n()).done;)n()}catch(r){a.e(r)}finally{a.f()}})),s})).then((function(e){if(!r)return e;var t=r(e);return t instanceof Promise?t.then((function(t){return e})):e}))},q=a(35),z=a(98),V=a(140),D=a.n(V),K=a(141),I=a.n(K),$=a(142),W=a.n($),_=a(110),G=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=Math.floor(Math.abs(Math.log10(e)));return n<a?e.toPrecision(t):e.toExponential(t-1).replace(/e\+/,"e")},Q=function(e){return function(t){var a=t.label;return r.a.createElement(e,null,a)}},J=r.a.memo((function(e){var t=r.a.Children.only(e.children),a=Object(n.useState)(""),l=Object(o.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)([0,0]),i=Object(o.a)(u,2),m=i[0],d=i[1],f=Object(n.useState)(!1),p=Object(o.a)(f,2),h=p[0],g=p[1],E=Object(n.useRef)(null);return Object(n.useEffect)((function(){h&&(E.current.selectionStart=m[0],E.current.selectionEnd=m[1],g(!1))}),[h,m]),r.a.createElement(r.a.Fragment,null,r.a.cloneElement(t,{value:c,onSelect:function(e){h||d([e.target.selectionStart,e.target.selectionEnd])},onChange:function(t){e.validation(t.target.value)?(e.onChange(t),s(t.target.value),d([t.target.selectionStart,t.target.selectionEnd])):g(!0)},onBlur:function(t){e.onBlur(t,s)},ref:b(t.ref,E)}))}));J.defaultProps={onChange:function(){},onBlur:function(){}};var X=J,Y=r.a.memo((function(e){var t=Object(z.a)(/(.*?(?:(?![\t-\r \(0-9\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S]))(?:($|[\t-\r \.:\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])|(([\+\x2D])(?:(?:1|([2-9]))|($|[\t-\r \.:\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])))|([0-9]+)(([\+\x2D])(?:(?:1|([2-9]))|($|[\t-\r \.:\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])))?)($|[\t-\r \.:\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])?/g,{WordMatcher:1,EndMatcher1:2,Charge1:3,ChargeSign1:4,ChargeValue1:5,EndMatcher2:6,SubMatcher:7,Charge2:8,ChargeSign2:9,ChargeValue2:10,EndMatcher3:11,EndMatcher4:12});return r.a.createElement("div",e,Array.from(e.children.matchAll(t)).map((function(t){var a=[t.groups.ChargeValue1,t.groups.ChargeValue2].reduce((function(e,t){return t||e}),""),n=[t.groups.ChargeSign1,t.groups.ChargeSign2].reduce((function(e,t){return t||e}),""),l=[t.groups.EndMatcher1,t.groups.EndMatcher2,t.groups.EndMatcher3,t.groups.EndMatcher4].reduce((function(e,t){return t||e}),"");return r.a.createElement("span",{key:e.children.substring(0,t.index)},t.groups.WordMatcher,r.a.createElement("sub",null,t.groups.SubMatcher),r.a.createElement("sup",null,a,n),l)})))})),U=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,Array.from(e.children.matchAll(/([^_^]+)(?:\^(.)|_(.))?/g)).map((function(t){return r.a.createElement(r.a.Fragment,{key:e.children.substring(0,t.index)},t[1],r.a.createElement("sup",null,t[2]),r.a.createElement("sub",null,t[3]))})))})),Z=a(21),ee=a(103),te=a(33),ae=a(44),ne=a(97),re=a(94),le=a(89),ce=a.n(le),oe=Object(z.a)(/(([\+\x2D])(?:(?:1|([2-9]))|($|[\t-\r :\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])))/g,{Charge:1,ChargeSign:2,ChargeValue:3,EndMatcher:4}),se=function(e){return e.groups.ChargeValue+e.groups.ChargeSign},ue=O()((function(e,t,a){var n,r=e.matchAll(t),l=0,c="",o=Object(p.a)(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;c+=e.substring(l,s.index),c+=a(s),l=s.index+s.length}}catch(u){o.e(u)}finally{o.f()}return c+=e.substring(l)})),ie=function(e){return Object(n.useCallback)((function(t,a){var n=e().components.get(t).name;return n.toLowerCase().includes(a.toLowerCase())||ue(n,oe,se).toLowerCase().includes(a.toLowerCase())}),[e])},me=r.a.memo((function(e){var t=e.componentsPresent,a=e.componentsDB,l=e.addComponents,c=Array.from(a().components.filter((function(e,a){return!t.includes(a)}))).map((function(e){var t=Object(o.a)(e,2);return{value:t[0],label:t[1].name}})),s=ie(a);return r.a.createElement(W.a,{options:Array.from(c),filterOption:function(e,t){return s(e.value,t)},formatOptionLabel:Q(Y),onChange:Object(n.useCallback)((function(e){e&&l([e.value])}),[l]),value:""})})),de=r.a.memo((function(e){var t=e.componentsPresent,a=e.componentsDB,l=e.addComponents,c=e.windowHeight,s=Object(n.useState)(!1),u=Object(o.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(w.Set([])),f=Object(o.a)(d,2),p=f[0],b=f[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),E=g[0],v=g[1],O=ie(a),j=Object(n.useMemo)((function(){return Array.from(a().components.filter((function(e,a){return!t.includes(a)&&O(a,E)})))}),[t,a,E,O]),C=function(){v(""),b(w.Set([]))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hover-switch",style:{width:"15%"},onClick:function(){return m(!0)}},r.a.createElement("svg",{width:"100%",viewBox:"0 0 16 16",className:"bi bi-plus-circle",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})),r.a.createElement("svg",{width:"100%",viewBox:"0 0 16 16",className:"bi bi-plus-circle-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"}))),r.a.createElement(Z.a,{show:i,onHide:function(){C(),m(!1)}},r.a.createElement(Z.a.Header,{closeButton:!0},"Add Components"),r.a.createElement(Z.a.Body,null,r.a.createElement(ee.a,null,r.a.createElement(ee.a.Prepend,null,r.a.createElement(ee.a.Text,null,r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-search",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"})))),r.a.createElement(te.a.Control,{placeholder:"Search",value:E,onChange:function(e){v(e.target.value)},className:"sticky-top"}),E&&r.a.createElement("svg",{onClick:function(){v("")},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x-circle-fill search-clearer",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"}))),r.a.createElement(I.a,{disableHeight:!0},(function(e){var t=e.width;return r.a.createElement(D.a,{width:t,height:c-120-80-16,rowHeight:43,overscanRowCount:10,rowRenderer:function(e){var t=e.index,a=(e.key,e.style),n=j[t],l=p.includes(n[0]);return r.a.createElement("div",{key:n[0],style:a,className:"p-2 d-flex align-items-center"},r.a.createElement("span",{className:"d-inline-block mr-auto"},r.a.createElement(Y,null,n[1].name)),r.a.createElement(ae.a,{onClick:function(){b(l?p.delete(n[0]):p.add(n[0]))},variant:l?"secondary":"primary",size:"sm"},l?"Cancel":"Add"))},rowCount:j.length})}))),r.a.createElement(Z.a.Footer,null,r.a.createElement(ae.a,{variant:"primary",onClick:function(){C(),l(Array.from(p)),m(!1)}},p.size?"Apply":"Cancel"))))})),fe={singleValue:function(e){return Object(q.a)(Object(q.a)({},e),{},{width:"100%",textAlign:"center"})},option:function(e){return Object(q.a)(Object(q.a)({},e),{},{width:"100%",textAlign:"center"})}},pe=r.a.memo((function(e){var t=e.hPlusOptionsRef,a=e.defaultVal,n=e.onChange;return r.a.createElement(m.a,{className:"mt-4 mb-3"},r.a.createElement(d.a,{xs:"3",sm:"5",className:"center-items"},r.a.createElement("label",{className:"w-100 d-none d-sm-block text-muted text-center"},"Components"),r.a.createElement("label",{className:"w-100 d-block d-sm-none text-muted text-center"},"Comp.")),r.a.createElement(d.a,{xs:"7",sm:"5"},r.a.createElement(_.default,{isSearchable:!1,options:t.current,formatOptionLabel:Q(U),styles:fe,onChange:n,value:a})),r.a.createElement(d.a,{xs:"2",className:"center-items"},r.a.createElement(ne.a,{placement:"bottom",overlay:r.a.createElement(re.a,null,"Equilibrium Concentration")},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"0.875rem",version:"1.1",id:"Layer_1",viewBox:"0 0 139 119.177",overflow:"visible",enableBackground:"new 0 0 139 119.177"},r.a.createElement("line",{fill:"none",stroke:"#000000",strokeWidth:"7",x1:"139",y1:"63.308",x2:"0",y2:"63.308"}),r.a.createElement("line",{fill:"none",stroke:"#000000",strokeWidth:"6",x1:"30.646",y1:"92.308",x2:"2.189",y2:"65.308"}),r.a.createElement("line",{fill:"none",stroke:"#000000",strokeWidth:"7",x1:"3",y1:"30.308",x2:"133",y2:"30.308"}),r.a.createElement("line",{fill:"none",stroke:"#000000",strokeWidth:"6",x1:"99.296",y1:"2.308",x2:"130.953",y2:"28.608"}),r.a.createElement("path",{fill:"none",stroke:"#FFFFFF",strokeWidth:"2",d:"M53,118.177c2.333,0,4.667,0,7,0"})))))})),be=r.a.memo((function(e){var t=e.component,a=e.updateConc,l=e.toggleChecked,c=e.noClose,s=e.disableCheck,u=e.removeComponents,i=e.controlChecked,f=e.componentsDB,p=Object(n.useState)(!1),b=Object(o.a)(p,2),h=b[0],g=b[1];return r.a.createElement(m.a,{className:"mb-3 p-0"},r.a.createElement(d.a,{xs:"3",sm:"5",className:"w-100 justify-content-end d-flex flex-wrap"},!c&&r.a.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-x lighten-hover mr-auto",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",onClick:function(){return u([t])}},r.a.createElement("path",{fillRule:"evenodd",d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})),r.a.createElement(Y,null,f().components.get(t).name)),r.a.createElement(d.a,{xs:"7",sm:"5",className:"d-flex align-items-center"},r.a.createElement(X,{validation:function(e){return e.match(/^-?\d*\.?\d*e?-?\d*$/)},onChange:function(e){ce()(e.target.value)?a(t,Number(e.target.value)):a(t,null)}},r.a.createElement(te.a.Control,{className:"text-center"}))),r.a.createElement(d.a,{xs:"2",className:"d-flex center-items"},r.a.createElement(te.a.Check,{style:{paddingLeft:"1.7rem"},type:"checkbox",checked:null!==i&&void 0!==i?i:h,disabled:s,onChange:function(e){g(!h),l(t)}})))})),he=r.a.memo((function(e){var t,a=e.componentsDB,l=e.updateConc,c=e.componentsInputState,o=e.pH;return r.a.createElement(be,{component:a().hPlusValue,componentsDB:a,updateConc:o?Object(n.useCallback)((function(e,t){return l(e,Math.pow(10,-t))}),[l]):l,disableCheck:!0,controlChecked:null===(t=c.get(a().hPlusValue))||void 0===t?void 0:t.get("equilChecked"),noClose:!0})})),ge=r.a.memo((function(e){var t=e.componentsDB,a=e.componentsPresent;return r.a.createElement(r.a.Fragment,null,a.delete(t().hPlusValue).delete(t().waterValue).map((function(a){return r.a.createElement(be,Object.assign({},e,{key:a,component:a,componentsDB:t}))})))})),Ee=a(37),ve=a(115),Oe=r.a.memo((function(e){var t=e.id,a=e.type,n=e.setSpecieEnabled,l=e.name,c=e.enabled,o=n?{onChange:function(e){return n(e,t,a)},disabled:!1}:{disabled:!0,readOnly:!0};return r.a.createElement(ve.a.Item,{className:"d-flex",style:c?{}:{color:"#6c757d",backgroundColor:"#fff"}},r.a.createElement(f,{start:"lg"},r.a.createElement(te.a.Check,Object.assign({style:{pointerEvents:"auto"},checked:c},o))),r.a.createElement("span",{className:"m-auto d-lg-none"}),r.a.createElement(Y,{className:"mx-2 mx-lg-0 text-right"},l),r.a.createElement(f,{start:"lg"}))})),we=r.a.memo((function(e){var t=e.componentsPresent,a=e.speciesEnabled,l=e.setSpeciesEnabled,c=e.speciesCouldBePresent,o=e.speciesDB,s=e.componentsDB,u=Object(n.useCallback)((function(e,t,n){e.target.checked?l(y()(a,Object(Ee.a)({},n,{$set:a[n].add(t)}))):l(y()(a,Object(Ee.a)({},n,{$set:a[n].delete(t)})))}),[l,a]);return r.a.createElement(ve.a,null,t.delete(s().waterValue).map((function(e){return r.a.createElement(Oe,{key:e,id:e,enabled:!0,name:s().components.get(e).name})})),c().aqs.map((function(e){return r.a.createElement(Oe,{key:e,id:e,type:"aqs",enabled:a.aqs.includes(e),setSpecieEnabled:u,name:o().aqs.species.get(e).name})})),c().solids.map((function(e){return r.a.createElement(Oe,{key:e,id:e,type:"solids",enabled:a.solids.includes(e),setSpecieEnabled:u,name:o().solids.species.get(e).name})})),c().gases.map((function(e){return r.a.createElement(Oe,{key:e,id:e,type:"gases",enabled:a.gases.includes(e),setSpecieEnabled:u,name:o().gases.species.get(e).name})})))})),je=r.a.memo((function(e){var t=e.openTableauModal,a=e.disabled;return r.a.createElement("span",{onClick:t,style:{fontSize:"0.875rem"},className:a?"text-muted":"border-hover-underline"},"View Tableau",r.a.createElement("svg",{style:{marginBottom:"0.1rem"},className:"bi bi-chevron-double-right",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M3.646 1.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L9.293 8 3.646 2.354a.5.5 0 010-.708z",clipRule:"evenodd"}),r.a.createElement("path",{fillRule:"evenodd",d:"M7.646 1.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L13.293 8 7.646 2.354a.5.5 0 010-.708z",clipRule:"evenodd"})))})),Ce=r.a.memo((function(e){var t=e.openTableauModal,a=Object(E.a)(e,["openTableauModal"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{className:"center-items"},r.a.createElement(je,{openTableauModal:t}))),r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement(we,a))))})),ye=a(145),ke=a(69),xe=a(70),Se=function(e){var t=e.logKChanges,a=e.setLogKChanges,l=e.specie,c=e.defaultVal,s=Object(n.useState)(t.get(l)),u=Object(o.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(!1),f=Object(o.a)(d,2),p=f[0],b=f[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),E=g[0],v=g[1],O=Object(n.useRef)(null),w=void 0===i;Object(n.useEffect)((function(){a(w?t.delete(l):t.set(l,i))}),[t,a,i,w,l]),Object(n.useEffect)((function(){p&&O.current.focus()}),[p,O]);var j=function(e){e.preventDefault(),b(!1),v(""),m(ce()(E)?Number(E):void 0)};return p?r.a.createElement(te.a,{onSubmit:j},r.a.createElement(X,{validation:function(e){return e.match(/^-?\d*\.?\d*$/)},onChange:function(e){v(e.target.value)},onBlur:j},r.a.createElement(te.a.Control,{ref:O,style:{width:"80px"},onKeyDown:function(e){27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),b(!1),v(""))}}))):w?r.a.createElement("span",{className:"text-nowrap"},c.toFixed(3).replace(/\.000$|0{0,2}$/,""),r.a.createElement("svg",{onClick:function(e){b(!0)},className:"logK-editor",style:{marginTop:"-0.2rem"},width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"}))):r.a.createElement("span",{className:"text-nowrap"},i.toFixed(3).replace(/\.000$|0{0,2}$/,""),r.a.createElement("svg",{onClick:function(e){m(void 0)},className:"logK-reset",style:{marginTop:"-0.12rem"},width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M12.83 6.706a5 5 0 0 0-7.103-3.16.5.5 0 1 1-.454-.892A6 6 0 1 1 2.545 5.5a.5.5 0 1 1 .91.417 5 5 0 1 0 9.375.789z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M7.854.146a.5.5 0 0 0-.708 0l-2.5 2.5a.5.5 0 0 0 0 .708l2.5 2.5a.5.5 0 1 0 .708-.708L5.707 3 7.854.854a.5.5 0 0 0 0-.708z"})))},Me=r.a.memo((function(e){var t=e.componentsPresent,a=e.componentsInputState,l=e.speciesHere,c=e.speciesDB,s=e.componentsDB,u=e.logKChanges,i=e.setLogKChanges,m=e.windowWidth,d=Object(n.useCallback)((function(e,t){i(y()(u,Object(Ee.a)({},e,{$set:t})))}),[i,u]),f=Object(n.useState)(0),p=Object(o.a)(f,2),b=p[0],g=p[1],E=Object(n.useState)(0),v=Object(o.a)(E,2),O=v[0],j=v[1],C=Object(n.useState)(0),k=Object(o.a)(C,2),x=k[0],S=k[1],M=m>=992,N=Object(n.useMemo)((function(){return{Header:"",Footer:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"d-none d-xl-block"},"Total Concentration"),r.a.createElement("span",{className:"d-block d-xl-none"},"Total Conc."))},id:"name",accessor:function(e){var t=Object(o.a)(e,2),a=(t[0],t[1].name);return r.a.createElement(Y,null,a)}}}),[]),P=Object(n.useMemo)((function(){return w.List(t.delete(s().waterValue)).map((function(e){return{Header:function(){return r.a.createElement(Y,null,s().components.get(e).name)},Footer:a.getIn([e,"equilChecked"])?"TBC":a.getIn([e,"conc"]),id:e,accessor:function(t){var a,n=Object(o.a)(t,2);n[0];return null!==(a=n[1].components.get(e))&&void 0!==a?a:0}}}))}),[t,a,s]),F=Object(n.useMemo)((function(){return{Header:"logK",Footer:"",id:"logK",accessor:function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1],l=n.logK,c=n.type,s=n.logKChanges;return r.a.createElement(Se,{specie:a,defaultVal:l,logKChanges:s,setLogKChanges:d.bind(null,c)})}}}),[d]),H=Object(n.useMemo)((function(){return M?P.unshift(N).push(F):P.unshift(F).unshift(N)}),[N,P,F,M]),R=Object(n.useMemo)((function(){return w.List([w.List(l().aqs).map((function(e){return[e,Object(q.a)(Object(q.a)({},c().aqs.species.get(e)),{},{logKChanges:u.aqs,type:"aqs"})]})),w.List(l().solids).map((function(e){return[e,Object(q.a)(Object(q.a)({},c().solids.species.get(e)),{},{logKChanges:u.solids,type:"solids"})]})),w.List(l().gases).map((function(e){return[e,Object(q.a)(Object(q.a)({},c().gases.species.get(e)),{},{logKChanges:u.gases,type:"gases"})]}))]).flatten(!0)}),[l,c,u]),B=Object(ke.useTable)({columns:H,data:R}),L=B.getTableProps,A=B.getTableBodyProps,T=B.headerGroups,z=B.footerGroups,V=B.rows,D=B.prepareRow,K=h(Object(n.useCallback)((function(e){var t=e.width,a=e.height;g(t),j(a)}),[j])),I=h(Object(n.useCallback)((function(e){var t=e.width;S(t)}),[S]));return r.a.createElement(ye.Scrollbars,{autoHide:!0,style:{width:"100%"},autoHeight:!0,autoHeightMax:"calc(90vh - 63px - 71px - 2rem)",renderTrackHorizontal:function(e){var t=y()(e.style,{$merge:{right:2,bottom:2,left:2,borderRadius:3,marginLeft:b,marginRight:M?x:0}});return r.a.createElement("div",Object.assign({},e,{style:t}))},renderTrackVertical:function(e){var t=y()(e.style,{$merge:{right:2,bottom:2,top:2,borderRadius:3,marginTop:O}});return r.a.createElement("div",Object.assign({},e,{style:t}))}},r.a.createElement(xe.a,Object.assign({striped:!0,bordered:!0,hover:!0},L({style:{}})),r.a.createElement("thead",null,T.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return e.Header?"logK"===e.id?r.a.createElement("th",Object.assign({},e.getHeaderProps({className:"vertical-align-middle sticky-header-y sticky-column-lg sticky"}),{ref:I}),e.render("Header")):r.a.createElement("th",e.getHeaderProps({className:"vertical-align-middle sticky-header-y sticky"}),e.render("Header")):r.a.createElement("th",Object.assign({},e.getHeaderProps({className:"sticky sticky-header-y sticky-header-x-lg bg-white"}),{ref:K}))})))}))),r.a.createElement("tbody",A(),V.map((function(e){return D(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return"name"===e.column.id?r.a.createElement("th",e.getCellProps({className:"vertical-align-middle sticky-header-lg sticky"}),e.render("Cell")):"logK"===e.column.id?r.a.createElement("td",e.getCellProps({className:"vertical-align-middle sticky-column-lg sticky"}),e.render("Cell")):r.a.createElement("td",e.getCellProps({className:"vertical-align-middle"}),e.render("Cell"))})))}))),r.a.createElement("tfoot",null,z.map((function(e){return r.a.createElement("tr",e.getFooterGroupProps(),e.headers.map((function(e){return"name"===e.id?r.a.createElement("th",e.getFooterProps({className:"vertical-align-middle sticky-x-header-lg sticky"}),e.render("Footer")):"logK"===e.id?r.a.createElement("th",e.getFooterProps({className:"vertical-align-middle crossed-out sticky-column-lg sticky"}),e.render("Footer")):r.a.createElement("td",e.getFooterProps({className:"vertical-align-middle sticky"}),e.render("Footer"))})))})))))})),Ne=a(147),Pe=a(146),Fe=function(e,t){var a=Object(n.useState)({current:null}),r=Object(o.a)(a,2),l=r[0],c=r[1];return Object(n.useEffect)((function(){var a=new e(t);return c({current:Pe.a(a)}),function(){a.terminate()}}),[]),l.current},He=function(){return new Worker(a.p+"static/js/CalculateResultWorker.17cd4896.worker.js")},Re=function(){var e=Object(n.useState)(w.Stack()),t=Object(o.a)(e,2),a=t[0],r=t[1],l=a.peek(),c=Object(n.useCallback)((function(e){Array.isArray(e)?r(a.withMutations((function(t){var a,n=Object(p.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;t.peek()===r&&t.pop()}}catch(l){n.e(l)}finally{n.f()}}))):l===e&&r(a.pop())}),[r,l,a]),s=Object(n.useCallback)((function(e){r(a.push(e))}),[r,a]);return[l,s,c]},Be=r.a.memo((function(e){var t=e.currentResult,a=e.style,l=e.className,c=Object(n.useMemo)((function(){return[{Header:"Species",id:"name",accessor:function(e){var t=Object(o.a)(e,2),a=(t[0],t[1].name);return r.a.createElement(Y,null,a)}},{Header:"Conc",id:"conc",accessor:function(e){var t=Object(o.a)(e,2),a=(t[0],t[1].conc);return G(a,4)}},{Header:function(){return r.a.createElement(r.a.Fragment,null,"\u2212log(Conc)")},id:"negLogConc",accessor:function(e){var t=Object(o.a)(e,2),a=(t[0],t[1].conc);return G(-Math.log10(a),4)}}]}),[]),s=Object(n.useMemo)((function(){return w.List([w.List(t().components),w.List(t().aqs),w.List(t().solidsPresent)]).flatten(!0)}),[t]);console.log(s);var u=Object(ke.useTable)({columns:c,data:s}),i=u.getTableProps,m=u.getTableBodyProps,d=u.headerGroups,f=u.rows,p=u.prepareRow,b=Object(n.useMemo)((function(){return w.Set((e=[t().components.size,t().aqs.size,t().solidsPresent.size],e.reduce((function(e,t){return e.push((e.length&&e[e.length-1]||0)+t),e}),[]))).filter((function(e){return e!==s.size&&0!==e}));var e}),[t,s.size]);return r.a.createElement(xe.a,Object.assign({bordered:!0},i({style:a,className:l})),r.a.createElement("thead",null,d.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),r.a.createElement("tbody",m(),f.map((function(e,t){return p(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){var a="name"===e.column.id?"th":"td";return r.a.createElement(a,e.getCellProps(b.has(t+1)?{style:{borderBottom:"3px solid #dee2e6"}}:{}),e.render("Cell"))})))}))))})),Le=r.a.memo((function(e){var t=e.currentResult,a=e.style,l=e.className,c=Object(n.useMemo)((function(){return[{Header:"Component",id:"name",accessor:function(e){var t=Object(o.a)(e,2),a=(t[0],t[1].name);return r.a.createElement(Y,null,a)}},{Header:"Calculated Total Conc",id:"totalConc",accessor:function(e){var t=Object(o.a)(e,2),a=(t[0],t[1].totalConc);return G(a,4)}}]}),[]),s=Object(n.useMemo)((function(){return w.List(t().components)}),[t]),u=Object(ke.useTable)({columns:c,data:s}),i=u.getTableProps,m=u.getTableBodyProps,d=u.headerGroups,f=u.rows,p=u.prepareRow;return r.a.createElement(xe.a,Object.assign({bordered:!0},i({style:a,className:l})),r.a.createElement("thead",null,d.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),r.a.createElement("tbody",m(),f.map((function(e,t){return p(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){var t="name"===e.column.id?"th":"td";return r.a.createElement(t,e.getCellProps(),e.render("Cell"))})))}))))})),Ae=r.a.memo((function(e){var t=e.currentResult,a=e.style,l=e.className;if(!t().solidsNotPresent.size)return r.a.createElement(r.a.Fragment,null);var c=Object(n.useMemo)((function(){return[{Header:"Solid",id:"name",accessor:function(e){var t=Object(o.a)(e,2),a=(t[0],t[1].name);return r.a.createElement(Y,null,a)}},{Header:"Solubility Product",id:"solProd",accessor:function(e){var t=Object(o.a)(e,2),a=(t[0],t[1].solubilityProduct);return G(a,4)}}]}),[]),s=Object(n.useMemo)((function(){return w.List(t().solidsNotPresent)}),[t]),u=Object(ke.useTable)({columns:c,data:s}),i=u.getTableProps,m=u.getTableBodyProps,d=u.headerGroups,f=u.rows,p=u.prepareRow;return r.a.createElement(xe.a,Object.assign({bordered:!0},i({style:a,className:l})),r.a.createElement("thead",null,d.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(),e.render("Header"))})))}))),r.a.createElement("tbody",m(),f.map((function(e,t){return p(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){var t="name"===e.column.id?"th":"td";return r.a.createElement(t,e.getCellProps(),e.render("Cell"))})))}))))})),Te=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{currentResult:e.currentResult,className:"mb-4 lc-mb-0"}),r.a.createElement(Le,{currentResult:e.currentResult,className:"mb-4 lc-mb-0"}),r.a.createElement(Ae,{currentResult:e.currentResult,className:"mb-4 lc-mb-0"}))})),qe=r.a.memo((function(e){var t=e.currentResult;return r.a.createElement(r.a.Fragment,null,"Error: "+t().message)})),ze=r.a.memo((function(e){var t=e.currentResult;return console.log(t()),t()instanceof Error?r.a.createElement(qe,{currentResult:t}):r.a.createElement(Te,{currentResult:t})})),Ve=r.a.memo((function(e){return r.a.createElement("div",{style:{maxHeight:"calc(100vh - "+(e.headerHeight+e.footerHeight)+"px)",overflowY:"auto",width:"100%"}},r.a.createElement("div",{style:{overflowX:"hidden"}},r.a.createElement(g,null,r.a.createElement(i.a,{fluid:!0},e.children))))})),De=r.a.memo((function(e){return r.a.createElement(m.a,{className:"mb-3",style:{height:"38px"}},r.a.createElement(d.a,{className:"center-items"},r.a.createElement(Ne.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))})),Ke=r.a.memo((function(e){var t=e.calculateNewResult,a=e.disableMessage,n=e.onClick,l=Object(E.a)(e,["calculateNewResult","disableMessage","onClick"]),c=!!a(),o=r.a.createElement(ae.a,Object.assign({},l,{onClick:function(e){n(e),t()},disabled:c}),"Calculate");return c?r.a.createElement(ne.a,{placement:"top",overlay:r.a.createElement(re.a,null,a())},r.a.createElement("div",{className:"disabled-button-wrapper"},o)):o})),Ie=function(e,t){return w.OrderedSet().withMutations((function(a){console.log(e);var n,r=function(e,t){return w.Map().withMutations((function(a){var n,r=Object(p.a)(t);try{for(r.s();!(n=r.n()).done;){var l=n.value;if(e.has(l)){var c,o=Object(p.a)(e.get(l));try{for(o.s();!(c=o.n()).done;){var s=c.value;a.update(s,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}))}}catch(u){o.e(u)}finally{o.f()}}}}catch(u){r.e(u)}finally{r.f()}}))}(e.componentToSpecies,t),l=Object(p.a)(e.species);try{for(l.s();!(n=l.n()).done;){var c=Object(o.a)(n.value,2),s=c[0],u=c[1];r.get(s)===u.components.size&&a.add(s)}}catch(i){l.e(i)}finally{l.f()}}))},$e=w.Map({equilChecked:!1,conc:""}),We=function(e){var t=Object(n.useRef)([{value:Object(n.unstable_useOpaqueIdentifier)(),label:"totalH"},{value:Object(n.unstable_useOpaqueIdentifier)(),label:"pH"},{value:Object(n.unstable_useOpaqueIdentifier)(),label:"Alkalinity^1"},{value:Object(n.unstable_useOpaqueIdentifier)(),label:"Other Alkalinity"}]),a=Fe(He),l=Object(o.a)(t.current,4),c=l[0],s=l[1],u=(l[2],l[3],Object(n.useState)(c)),f=Object(o.a)(u,2),b=f[0],E=f[1],v=Object(n.useReducer)((function(e,t){switch(t.action){case"add":return e.withMutations((function(e){var a,n=Object(p.a)(t.value.components);try{for(n.s();!(a=n.n()).done;){var r=a.value;e.set(r,$e)}}catch(l){n.e(l)}finally{n.f()}}));case"remove":return e.removeAll(t.value.components);case"toggleEquilChecked":return e.updateIn([t.value.component,"equilChecked"],(function(e){return!e}));case"setConc":return e.setIn([t.value.component,"conc"],t.value.conc);default:throw new Error}}),w.Map()),C=Object(o.a)(v,2),x=C[0],M=C[1],N=Object(n.useCallback)((function(e,t){M({action:"setConc",value:{component:e,conc:t}})}),[M]),P=Object(n.useCallback)((function(e){M({action:"toggleEquilChecked",value:{component:e}})}),[M]),F=Object(n.useState)(w.OrderedSet()),H=Object(o.a)(F,2),R=H[0],B=H[1],L=Object(n.useCallback)((function(e){M({action:"add",value:{components:e}}),B(R.union(e))}),[R,B,M]),q=Object(n.useCallback)((function(e){M({action:"remove",value:{components:e}}),B(R.subtract(e))}),[R,B,M]),z=Object(n.useState)({aqs:w.OrderedSet(),solids:w.OrderedSet(),gases:w.OrderedSet()}),V=Object(o.a)(z,2),D=V[0],K=V[1],I=Object(n.useState)({aqs:w.Map(),solids:w.Map(),gases:w.Map()}),$=Object(o.a)(I,2),W=$[0],_=$[1],G=S(A,{url:"/FreeQL/assets/defaultdb/comp.vdb",type:"link",options:{linesPerItem:1,id:{row:0,column:0},name:{row:0,column:1},charge:{row:0,column:2},hPlusValue:330,waterValue:2},callback:function(e){console.log(e),L([e.waterValue,e.hPlusValue])}}),Q=Object(o.a)(G,3),J=Q[0],X=(Q[1],Q[2]),Y=S(T,function(e){return{url:"/FreeQL/assets/defaultdb/thermo.vdb",type:"link",options:{linesPerItem:3,id:{row:0,column:0},name:{row:0,column:1},charge:{row:0,column:6},logK:{row:0,column:3},numComponents:{row:0,column:10},components:{row:1,column:1,stride:2},componentAmts:{row:1,column:0,stride:2},labels:{urls:["/FreeQL/assets/defaultdb/type6.vdb","/FreeQL/assets/defaultdb/gases.vdb"],linesPerId:3,id:{row:0,column:0},labelMap:["solid","gas"]}},callback:e}}((function(e){console.log(e),K(y()(D,{aqs:{$set:w.Set(e.aqs.species.keys())}}))}))),U=Object(o.a)(Y,3),ee=U[0],ne=(U[1],U[2]),re=Object(n.useCallback)(O()((function(){return{aqs:Ie(ee().aqs,R),solids:Ie(ee().solids,R),gases:Ie(ee().gases,R)}})),[ee,R]),le=Object(n.useCallback)(O()((function(){return{aqs:w.List(re().aqs.intersect(D.aqs)),solids:w.List(re().solids.intersect(D.solids)),gases:w.List(re().gases.intersect(D.gases))}})),[re,D]),ce=Object(n.useState)(w.Map()),oe=Object(o.a)(ce,2),se=oe[0],ue=(oe[1],S((function(){var e={speciesHere:le(),componentsPresent:w.List(R.delete(J().waterValue)),logKChanges:W,componentsInputState:x},t=w.fromJS(e);return se.has(t)?se.get(t):a.calculate(j.toJSON(e)).then((function(e){return j.fromJSON(e)})).catch((function(e){return e}))}))),ie=Object(o.a)(ue,3),fe=ie[0],be=ie[1],Ee=ie[2],ve=Object(n.useCallback)(O()((function(){return Ee?"Calculating...":X||ne?"Getting Databases...":!!x.filter((function(e,t){return J().waterValue!==t&&R.has(t)})).find((function(e,t){return"number"!==typeof e.get("conc")}))&&"At least one component is empty or invalid"})),[J,x,R,X,ne,Ee]),Oe=k(),we=Object(n.useState)(0),je=Object(o.a)(we,2),ye=je[0],ke=je[1],xe=Oe.height>=700?54:0,Se=h(Object(n.useCallback)((function(e){var t=e.height;ke(t)}),[ke])),Ne=Re(),Pe=Object(o.a)(Ne,3),Be=Pe[0],Le=Pe[1],Ae=Pe[2],Te=Object(n.useCallback)(O()((function(e){return function(){return Le(e)}})),[Le]),qe=Object(n.useCallback)(O()((function(e){return function(){return Ae(e)}})),[Ae]),We=Object(n.useCallback)((function(e){b===s?(P(J().hPlusValue),N(J().hPlusValue,-Math.log10(x.get(J().hPlusValue).get("conc")))):e===s&&(P(J().hPlusValue),N(J().hPlusValue,Math.pow(10,-x.get(J().hPlusValue).get("conc")))),E(e)}),[E,N,b,J,x]);return r.a.createElement(te.a,null,r.a.createElement(i.a,{style:{height:"calc(100vh - "+(e.headerHeight+ye+e.footerHeight)+"px)"}},r.a.createElement(m.a,null,r.a.createElement(d.a,{className:"p-0"},r.a.createElement(Ve,{headerHeight:e.headerHeight,footerHeight:e.footerHeight+ye+xe},r.a.createElement(pe,{hPlusOptionsRef:t,defaultVal:b,onChange:We}),r.a.createElement(n.Suspense,{fallback:r.a.createElement(De,null)},r.a.createElement(he,{pH:s===b,componentsDB:J,componentsInputState:x,updateConc:N})),r.a.createElement(m.a,null,r.a.createElement(d.a,{xs:"3",sm:"5",className:"center-items"},r.a.createElement("label",{className:"w-100 d-none d-sm-block text-muted text-center"},"Components"),r.a.createElement("label",{className:"w-100 d-block d-sm-none text-muted text-center"},"Comp.")),r.a.createElement(d.a,{xs:{span:7,offset:0},sm:{span:5,offset:0}},r.a.createElement("label",{className:"w-100 text-muted text-center"},"Total Conc."))),r.a.createElement("hr",{className:"mt-0 mb-3"}),r.a.createElement(n.Suspense,{fallback:r.a.createElement(De,null)},r.a.createElement(ge,{componentsDB:J,componentsPresent:R,toggleChecked:P,updateConc:N,removeComponents:q})),r.a.createElement(m.a,null,r.a.createElement(d.a,null,Oe.height<700&&r.a.createElement("div",{className:"d-flex center-items w-100"},r.a.createElement(n.Suspense,{fallback:""},r.a.createElement(de,{componentsPresent:R,componentsDB:J,addComponents:L,windowHeight:Oe.height})))))),r.a.createElement(i.a,{fluid:!0},r.a.createElement(m.a,{className:"pt-3"},r.a.createElement(d.a,null,Oe.height>=700&&r.a.createElement(n.Suspense,{fallback:""},r.a.createElement(me,{componentsPresent:R,componentsDB:J,addComponents:L})))))),r.a.createElement(d.a,{xs:"4",className:"d-none d-md-flex p-0"},r.a.createElement(Ve,{headerHeight:e.headerHeight,footerHeight:e.footerHeight+ye},r.a.createElement(m.a,{className:"mt-4"},r.a.createElement(d.a,{className:"center-items"},r.a.createElement("h5",{className:"text-muted text-center"},"Species"))),r.a.createElement(n.Suspense,{fallback:r.a.createElement(De,null)},r.a.createElement(Ce,{openTableauModal:Te("tableau"),speciesDB:ee,componentsDB:J,componentsPresent:R,speciesEnabled:D,speciesCouldBePresent:re,setSpeciesEnabled:K})))))),r.a.createElement(g,{ref:Se},r.a.createElement(i.a,null,r.a.createElement(te.a.Row,{className:"py-3"},r.a.createElement(d.a,{className:"d-none d-md-block"},r.a.createElement(Ke,{onClick:Te("results"),disableMessage:ve,className:"w-100",variant:"primary",calculateNewResult:be})),r.a.createElement(d.a,{className:"d-block d-md-none"},r.a.createElement(ae.a,{className:"w-100",variant:"primary",onClick:Te("species")},"Select Species"))))),r.a.createElement(Z.a,{show:"species"===Be,onHide:qe("species"),backdrop:"static",scrollable:!0},r.a.createElement(Z.a.Header,{closeButton:!0},"Species"),r.a.createElement(Z.a.Body,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(De,null)},r.a.createElement(Ce,{openTableauModal:Te("tableau"),speciesDB:ee,componentsDB:J,componentsPresent:R,speciesEnabled:D,speciesCouldBePresent:re,setSpeciesEnabled:K}))),r.a.createElement(Z.a.Footer,null,r.a.createElement(ae.a,{variant:"secondary",onClick:qe("species")},"Close"),r.a.createElement(Ke,{onClick:Te("results"),disableMessage:ve,className:"ml-auto",variant:"primary",calculateNewResult:be}))),r.a.createElement(Z.a,{size:"xl",show:"tableau"===Be,onHide:qe("tableau"),backdrop:"static"},r.a.createElement(Z.a.Header,{closeButton:!0},r.a.createElement(Z.a.Title,null,"Tableau")),r.a.createElement(Z.a.Body,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(De,null)},r.a.createElement(Me,{logKChanges:W,setLogKChanges:_,componentsPresent:R,componentsInputState:x,windowWidth:Oe.width,speciesHere:le,speciesEnabled:D,speciesDB:ee,componentsDB:J}))),r.a.createElement(Z.a.Footer,null,r.a.createElement(ae.a,{variant:"secondary",onClick:qe("tableau")},"Close"))),r.a.createElement(Z.a,{size:"xl",show:"results"===Be,onHide:qe(["results","species"]),backdrop:"static",scrollable:!0},r.a.createElement(Z.a.Header,{closeButton:!0},r.a.createElement(Z.a.Title,null,"Results")),r.a.createElement(Z.a.Body,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(De,null)},r.a.createElement(ze,{currentResult:fe}))),r.a.createElement(Z.a.Footer,null,r.a.createElement(ae.a,{variant:"secondary",onClick:qe(["results","species"])},"Close"))))};var _e=function(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),a=t[0],l=t[1],c=h(Object(n.useCallback)((function(e){var t=e.height;l(t)}),[l])),p=Object(n.useState)(0),b=Object(o.a)(p,2),E=b[0],v=b[1],O=h(Object(n.useCallback)((function(e){var t=e.height;v(t)}),[v]));return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{ref:c},r.a.createElement(s.a,{expand:"sm",bg:"dark",variant:"dark"},r.a.createElement(f,{end:"sm"},r.a.createElement(s.a.Brand,{href:"/"},r.a.createElement("img",{src:"assets/img/logo.png",width:"65",alt:"FreeQL"}))),r.a.createElement(s.a.Brand,{href:"/"},"FreeQL"),r.a.createElement(f,{end:"sm"}),r.a.createElement(s.a.Collapse,{id:"navbarTogglerDemo02"},r.a.createElement(u.a,{className:"mr-auto",style:{fontSize:"1.025rem"}},r.a.createElement(u.a.Link,{href:"https://stephmorel8910.gitbook.io/freeql/",target:"_blank"},"Help"),r.a.createElement(u.a.Link,{href:"https://github.com/SoAsEr/FreeQL/blob/master/README.md",target:"_blank"},"README"),r.a.createElement(u.a.Link,{href:"https://github.com/SoAsEr/FreeQL/",target:"_blank"},"Github"))))),r.a.createElement(We,{headerHeight:a,footerHeight:E}),r.a.createElement(g,{ref:O},r.a.createElement("footer",{className:"bg-dark p-4 p-md-5 text-center"},r.a.createElement(i.a,null,r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement("span",{className:"text-light"},"Created by Stephane Morel")))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=document.getElementById("root");c.a.unstable_createRoot(Ge).render(r.a.createElement(_e,null)),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[148,1,2]]]);
//# sourceMappingURL=main.5e29d880.chunk.js.map